window.__require=function t(e,n,o){function a(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return a(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({AutoSpinSetting:[function(t,e,n){"use strict";cc._RF.push(e,"3b96a7HCaJCH7o/jpVW29vs","AutoSpinSetting");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,t("../Common/Sound")),u=t("../Common/Common"),l=t("./DataManager"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainScene=null,e}return a(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onBtnAuto=function(t,e){c.Sound.getInstance().playEffect(u.Common.s_sound.AllButton,!1,!0);var n=Number(e);l.DataManager.getInstance().autoNum=[20,50,100,500,1e6,10000001][n],this.node.active=!1,this.mainScene.onEventAutoPlay()},e.prototype.setMainScene=function(t){this.mainScene=t},e.prototype.onHideAutoPanel=function(){1==this.node.active&&(this.node.active=!1)},i([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager"}],Bigwin:[function(t,e,n){"use strict";cc._RF.push(e,"e8d68aVmzxELYX3etqhOTMc","Bigwin");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,u=t("../Common/Common"),l=t("../Common/Sound"),p=t("./DataManager"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin_prefab=null,e.coin_parent_node=null,e.bigwin_Amount=null,e.bigWin_anims=[],e.coinAnimName=["Coin_flip_center","Coin_flip_Left","Coin_flip_right"],e.bigWin_sound=[],e.bigwin_back_sound=null,e.bigwin_end_sound=null,e.callbackFinishedBigwin=null,e.lastBigWinIndex=0,e.coinSkels_center=[],e.coinSkels_left=[],e.coinSkels_right=[],e}return a(e,t),e.prototype.show=function(t,e,n){var o=this;void 0===n&&(n=void 0),this.node.active=!0,this.lastBigWinIndex=t,this.bigWin_anims[t].node.active=!0,this.bigwin_Amount.string=u.Common.addComma2Digits(e),this.callbackFinishedBigwin=n;for(var a=function(t){var e=cc.instantiate(i.coin_prefab).getComponent(sp.Skeleton),n=cc.instantiate(i.coin_prefab).getComponent(sp.Skeleton),a=cc.instantiate(i.coin_prefab).getComponent(sp.Skeleton);i.coinSkels_center[t]=e,i.coinSkels_left[t]=n,i.coinSkels_right[t]=a;var r=u.Common.randomNumber(-30,30),s=u.Common.randomNumber(-30,30);i.coinSkels_center[t].node.position=new cc.Vec3(r,s),i.coinSkels_left[t].node.position=new cc.Vec3(r,s),i.coinSkels_right[t].node.position=new cc.Vec3(r,s),i.coin_parent_node.addChild(i.coinSkels_center[t].node,0,"coin"),i.coin_parent_node.addChild(i.coinSkels_left[t].node,0,"coin"),i.coin_parent_node.addChild(i.coinSkels_right[t].node,0,"coin"),cc.tween(i.coinSkels_center[t].node).delay(.8*t).call(function(){o.coinSkels_center[t].loop=!0,o.coinSkels_center[t].animation=o.coinAnimName[0]}).start(),cc.tween(i.coinSkels_left[t].node).delay(.8*t+.2).call(function(){o.coinSkels_left[t].loop=!0,o.coinSkels_left[t].animation=o.coinAnimName[1]}).start(),cc.tween(i.coinSkels_right[t].node).delay(.8*t+.4).call(function(){o.coinSkels_right[t].loop=!0,o.coinSkels_right[t].animation=o.coinAnimName[2]}).start()},i=this,r=0;r<10;r++)a(r);this.bigWin_anims[t].loop=!0,this.bigWin_anims[t].animation="intro",cc.tween(this.bigWin_anims[t].node).delay(.8).call(function(){o.bigWin_anims[t].animation="idle"}).start(),null!=this.soundId&&(cc.audioEngine.stopEffect(this.soundId),this.soundId=null),null!=this.backSoundId&&(cc.audioEngine.stopMusic(),this.backSoundId=null);var s=this;setTimeout(function(){s.soundId=cc.audioEngine.playEffect(s.bigWin_sound[t],!1)},300),this.backSoundId=cc.audioEngine.playMusic(this.bigwin_back_sound,!1)},e.prototype.smallShow=function(){},e.prototype.hide=function(){var t=this,e=this;setTimeout(function(){null!=e.backSoundId&&cc.audioEngine.playEffect(e.bigwin_end_sound,!1)},100),setTimeout(function(){e.bigWin_anims[e.lastBigWinIndex].animation="",t.coin_parent_node.removeAllChildren(!0),e.bigWin_anims[e.lastBigWinIndex].node.active=!1,e.node.active=!1,null!=e.soundId&&(cc.audioEngine.stopEffect(e.soundId),e.soundId=null),null!=e.backSoundId&&(cc.audioEngine.stopMusic(),e.backSoundId=null,p.DataManager.getInstance().free?l.Sound.getInstance().playBGMusic(u.Common.s_sound.FreeBG,!0):l.Sound.getInstance().playBGMusic(u.Common.s_sound.MainBG,!0)),t.callbackFinishedBigwin&&t.callbackFinishedBigwin()},400)},e.prototype.stop=function(){this.hide()},i([c(cc.Prefab)],e.prototype,"coin_prefab",void 0),i([c(cc.Node)],e.prototype,"coin_parent_node",void 0),i([c(cc.Label)],e.prototype,"bigwin_Amount",void 0),i([c(sp.Skeleton)],e.prototype,"bigWin_anims",void 0),i([c(cc.AudioClip)],e.prototype,"bigWin_sound",void 0),i([c(cc.AudioClip)],e.prototype,"bigwin_back_sound",void 0),i([c(cc.AudioClip)],e.prototype,"bigwin_end_sound",void 0),i([s],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager"}],BtnTouchListener:[function(t,e,n){"use strict";cc._RF.push(e,"373e1mfeoZJxJWbIymgI03h","BtnTouchListener");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../FortuneTree/DataManager"),s=t("../FortuneTree/GameScene"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_MainScene=null,e.m_BtnSprite=null,e.pressedFrame=null,e.normalFrame=null,e.touchStarted=!1,e.touchStartTime=null,e.interactable=!0,e}return a(e,t),e.prototype.onLoad=function(){var t=this;this.node.on("touchstart",function(){t.interactable&&(t.touchStarted=!0,t.touchStartTime=new Date,t.m_BtnSprite.spriteFrame=t.pressedFrame)},this),this.node.on("touchmove",function(){},this),this.node.on("touchcancel",function(){t.touchStarted=!1},this),this.node.on("touchend",function(){t.touchStarted&&(t.touchStarted=!1,t.m_MainScene.onSpin())},this)},e.prototype.update=function(){if(this.touchStarted){var t=((new Date).getTime()-this.touchStartTime.getTime())/1e3;if(this.m_BtnSprite.spriteFrame=this.normalFrame,t>.7){if(this.touchStarted=!1,r.DataManager.getInstance().free&&r.DataManager.getInstance().nextFree>0)return;this.m_MainScene.onAutoPlay()}}},i([l(s.default)],e.prototype,"m_MainScene",void 0),i([l(cc.Sprite)],e.prototype,"m_BtnSprite",void 0),i([l(cc.SpriteFrame)],e.prototype,"pressedFrame",void 0),i([l(cc.SpriteFrame)],e.prototype,"normalFrame",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../FortuneTree/DataManager":"DataManager","../FortuneTree/GameScene":"GameScene"}],Common:[function(t,e,n){"use strict";cc._RF.push(e,"e18ba10NsBB2I64cwNSiW7C","Common");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Common=void 0;var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function t(){}var e;return e=t,t.shuffle=function(t){for(var e,n,o=t.length;0!==o;)n=Math.floor(Math.random()*o),e=t[o-=1],t[o]=t[n],t[n]=e;return t},t.findRandom=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.addComma=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.addComma2Digits=function(t){return"0.00"==(t-Math.floor(t)).toFixed(2)?this.addComma(t):t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.getBetIndex=function(t){t=Math.floor(100*t+.005);for(var n=0;n<9;n++)if(t==Math.floor(100*e.baseBet[n]))return n;return 0},t.randomNumber=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.REEL_DATA=[[11,5,4,4,5,10,2,2,2,3,11,5,5,5,8,3,3,3,7,12,1,1,1,12,6,5,7,4,8,2,2,5,7,3,5,4,10,3,4,6,5,4,4,4,5,9],[7,1,1,1,11,3,3,3,4,4,4,0,1,6,3,3,5,9,7,12,2,2,2,5,5,5,6,4,10,3,8,12,5,4,8,0,10,1,1,9,4,7,5,4,6,5,0,3,7,5,12,4,3],[6,3,0,9,11,3,3,5,5,4,4,4,5,11,2,2,2,0,5,7,3,12,10,4,4,3,3,3,12,2,3,3,10,4,5,6,4,11,5,6,4,5,5,5,7,2,0,7,9,3,8,1,1,1],[11,4,4,3,12,1,5,5,5,12,6,9,0,10,8,5,7,3,3,3,11,4,4,10,6,2,11,0,5,7,3,10,2,2,2,11,5,1,1,1,12,6,7,3],[3,8,2,2,2,11,10,12,1,1,1,12,9,5,10,8,3,11,6,2,9,6,1,10,8,5,5,5,11,6,1,7,10,2,8,7,4,4,4,6,3,3,3,5,7,3,6]],t.FREE_REEL_DATA1=[[1,9,1,7,7,7,1,8,8,8,1,1,1,11,11,11,1,1,6,6,6,12,11,11,1,1,6,6,6,12,10,10,10,1,11,11,1,8,8,8,1,10,10,10,1,6,6,1,8,8,8,1,9,9,9,1],[0,10,10,10,1,7,7,1,7,7,7,1,8,8,8,1,9,9,0,6,6,6,1,1,11,11,1,10,12,8,8,12,8,8,1,6,6,12,10,10,1,1,1,9,9,9,1,8,8,1,1,6,6,6],[1,7,7,1,6,6,6,0,10,10,10,1,1,11,11,11,0,8,8,8,1,1,9,9,12,6,6,1,10,10,7,12,9,9,7,1,1,8,8,8,1,11,11,11,1,1,1,7,7,1,1,8,7,7,1,7,7,1,8,8,8,1],[1,8,8,8,1,1,1,6,6,6,1,1,7,7,7,1,8,8,0,8,8,1,1,11,11,11,1,10,1,1,7,7,12,11,11,11,1,9,9,9,1,8,8,1,1,7,9,12,6,6,0,9,9,1,10,10,10,1],[1,8,8,1,10,10,10,1,1,8,8,8,12,7,7,7,1,1,9,9,9,12,7,7,7,1,9,9,9,1,1,1,11,11,11,1,7,7,1,10,10,10,1,1,8,8,8,12,6,6,11]],t.FREE_REEL_DATA2=[[2,2,7,7,2,6,6,2,2,2,11,11,2,2,8,8,8,12,8,8,2,2,8,8,8,12,10,10,2,7,7,2,6,6,2,2,11,11,2,6,6,2,9,9,2,6,6,2,6,6,2,7,7],[2,2,7,7,0,7,7,2,8,8,2,2,10,10,2,2,11,11,12,8,8,12,6,6,2,8,8,12,7,2,2,2,9,9,2,9,9,0,6,2,2,7,7,7,2,6,2,11,11],[2,7,7,0,8,8,2,10,10,0,10,10,2,2,9,9,2,6,6,2,6,6,6,2,7,7,2,11,11,12,6,6,2,10,10,12,9,9,2,2,6,6,6,2,8,8,8,2,2,2,7,7,2,2,11,11,2,7,7,7,2],[2,10,10,10,2,2,2,8,8,8,2,7,7,0,7,7,2,6,6,2,6,6,2,2,8,8,0,11,11,2,10,10,10,2,2,2,11,11,2,7,7,12,11,11,2,7,7,2,11,11,2,6,6,6,2,9,9,9,12,2,2,6,8],[2,2,10,10,10,2,2,11,11,2,12,7,7,7,2,2,8,8,2,9,9,12,7,7,7,2,9,9,2,2,2,11,11,2,6,6,2,11,11,2,8,8,2,6,6,2,6,12,8,8]],t.FREE_REEL_DATA3=[[3,3,7,7,3,9,9,3,3,3,11,11,3,3,8,3,8,8,12,8,8,3,3,8,8,8,12,10,10,3,7,7,3,9,9,3,10,10,3,11,11,3,6,6,3,6,6,3,9,9,3,9,9,3,7,7,3,9,3,9],[3,3,7,7,0,7,7,3,8,8,3,9,9,3,3,10,10,3,3,11,11,3,11,12,8,8,12,9,9,3,8,8,12,10,3,3,3,6,6,3,9,9,0,10,3,9,9,3,7,7,7,3,3,11,11,3,10,10,3,6,6],[3,7,7,7,0,8,8,8,3,10,10,0,10,10,3,3,6,6,3,11,11,3,9,9,9,3,3,11,11,12,9,9,3,10,10,12,6,6,3,3,9,9,9,3,8,8,3,8,3,3,3,7,7,3,3,3,7,3,10,10,3,11,11,3,3,10],[3,10,10,10,3,3,3,8,8,8,3,7,7,0,7,7,3,9,9,9,3,9,9,3,3,8,8,0,11,11,3,3,6,6,6,3,3,11,11,3,3,7,12,11,11,3,6,6,3,3,9,9,9,3,6,6,6,12,8,8,8,3,10,10,3,9,9,3],[3,3,10,10,3,6,6,3,9,9,12,7,7,7,3,3,8,9,3,6,6,12,3,11,11,3,6,6,3,3,3,11,11,3,9,9,3,3,8,8,3,9,9,3,12,8,8,3,9,9,3,7,7,3,9,9,3]],t.FREE_REEL_DATA4=[[4,4,8,8,4,4,11,4,4,4,6,6,4,8,4,4,8,8,12,11,11,4,4,8,8,8,12,10,10,4,7,7,4,4,10,10,4,6,6,4,4,9,9,4,4,11,4,11,11,4,4,11,11,4,10],[4,4,7,0,7,7,4,8,8,4,11,11,4,9,9,4,10,10,4,9,9,4,6,6,4,6,12,4,11,4,8,8,12,7,4,4,4,7,7,4,12,4,11,0,11,4,4,7,7,7,4,4,6,6,4,11,11,11,4,9],[4,7,7,0,7,4,8,8,4,10,10,0,10,10,4,11,11,4,4,6,6,4,11,4,11,4,4,11,11,12,4,11,4,10,10,12,9,9,4,4,9,9,9,4,4,8,8,4,4,4,7,7,4,4,6,6,4,10,4,7,4,6,6,4,11,4,9],[10,4,10,10,4,4,4,8,8,8,4,7,7,0,7,7,4,11,11,11,4,8,4,4,8,8,0,6,6,4,10,10,10,4,4,11,11,4,6,6,4,7,7,12,6,6,4,9,9,4,6,6,4,4,9,9,4,11,11,4,11,12,4,8,4,4,11,11,4,7],[4,4,10,10,4,9,9,4,4,11,11,12,7,7,7,4,10,4,8,8,4,9,9,12,7,7,4,9,9,4,4,4,6,6,4,11,11,4,4,8,8,4,4,6,4,11,11,12,8,8,4,11,11,4,7,7,4,4,10,8]],t.FREE_REEL_DATA5=[[5,9,9,5,7,5,5,6,5,5,5,11,11,5,7,5,5,8,12,8,8,5,5,8,8,8,12,10,10,5,7,7,5,5,6,5,10,10,5,11,11,5,5,9,5,5,6,5,5,5,7,7,5,6,6,5,10],[5,10,10,5,8,0,7,7,5,8,5,5,10,5,9,9,5,5,10,5,8,8,5,11,11,5,11,12,5,8,5,8,12,7,5,5,5,9,5,12,5,5,9,9,0,10,5,5,7,5,5,11,11,5,6,6,6,5,5,9],[5,7,7,0,6,5,8,5,10,10,0,10,10,5,5,6,5,9,9,5,11,5,6,5,7,7,5,11,11,12,5,6,5,10,10,12,5,9,5,5,6,6,6,5,8,8,5,8,5,5,5,7,5,5,11,5,10],[5,10,10,5,5,5,8,5,7,7,0,7,7,5,6,6,6,5,8,5,5,8,8,0,11,11,5,10,5,9,5,5,6,5,11,5,7,12,5,9,9,5,11,11,5,6,5,7,5,5,9,12,6,5],[5,5,10,10,5,9,5,5,6,12,7,7,7,5,6,5,9,5,8,8,12,9,9,5,7,5,5,5,11,5,5,6,5,11,11,5,5,6,6,5,11,11,12,8,5,8,5,6,5,7,5,10]],t.CURRENT_GAME_NAME="FortuneTree",t.CURRENT_GAME_LANGUAGE="En",t.NUMBER_OF_ROW=3,t.NUMBER_OF_COLUMN=5,t.REEL_SPEED=60,t.REEL_SPEED_Up=10,t.REEL_SYMBOLS_COUNT=16,t.BETLINE_COUNT=25,t.XDIFF=137,t.REEL_CONTENT_HEIGHT=360,t.ELEMENT_WIDTH=130,t.ELEMENT_HEIGHT=114,t.REALMONEY_ODD=1,t.eleIndex=[0,1,2,3,4,5,6,7,8,9,10,11,12],t.addCoinTime=2,t.firstStopTime=1.25,t.stopTime=.25,t.speedUpTime=1.5,t.singleStopTime=2,t.elapse=0,t.scatterSymbol=12,t.wildSymbol=0,t.baseBet=[90,180,300,600,900,1200,1500,1800,3e3,3600,4500,6e3,15e3,22500],t.baseCoin=[88],t.changePic=!0,t.lineCount=25,t.speed=60,t.eStatus={Idle:0,Running:1,Win:2,Wait:3,FreeSpin:4,Respin:5,Prize:6},t.CustomEvent={EventStartRoll:"EventStartRoll",EventStartAll:"EventStartAll",EventStopRoll:"EventStopRoll",EventStopAutoResult:"EventStopAutoResult",EventStopFreeResult:"EventStopFreeResult",EventStopRespinResult:"EventStopRespinResult",EventExit:"EventExit"},t.BigWinOdd=[5,10,20,40,100],t.addCoinTimeFree=2,t.nomalWinDelayTime=1.8,t.addCoinDiffMin=.02,t.addCoinDiffMax=1e3,t.s_sound={AllButton:0,MainBG:1,FreeBG:2,BtnSound:3,BtnStop:4,GambleWin:5,ScatterReelAnim:6,StopReel:7,RealScatter:8,LineWin_1:9,LineWin_2:10,LineWin_3:11,LineWin_4:12,LineWin_5:13,FuFly_Pick:14,Tree_Shaking:15,FGPick:16},e=o([i],t)}());n.Common=r,cc._RF.pop()},{}],DataManager:[function(t,e,n){"use strict";cc._RF.push(e,"260c5dCjP5LGYeIjNTVbTSe","DataManager");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.DataManager=void 0;var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function t(){this.money=0,this.lastBetIndex=4,this.betIndex=1,this.coinIndex=1,this.totalBet=0,this.betEnable=!1,this.SCANum=0,this.winMoney=0,this.winShow=0,this.symbolCount=13,this.result=[[6,5,4],[3,8,10],[8,5,6],[10,8,6],[10,3,6]],this.resultReal=[[6,5,4],[3,8,10],[8,5,6],[10,8,6],[10,3,6]],this.winLine=[],this.winLineNum=[],this.free=!1,this.freeType=0,this.nextFree=0,this.totalFreeSpins=0,this.moreFreeSpin=0,this.jackpots=null,this.isCanReset=!0,this.auto=!1,this.playEnd=!0,this.received=!1,this.status=0,this.isBigWin=!1,this.overgame=!1,this.winTotalFreeMoney=0,this.autoNum=0,this.isAutoOnWin=!1,this.isAutoFreeSpin=!1,this.isOpen=!1}var e;return e=t,t.getInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},t._instance=null,e=o([i],t)}());n.DataManager=r,cc._RF.pop()},{}],FreeEnd:[function(t,e,n){"use strict";cc._RF.push(e,"ca444Kj/4RO670A3vMu9e52","FreeEnd");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("./DataManager"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl_freeSpinWin=null,e.btn_continue=null,e.audio_winEnd=null,e.audio_fgEnd=null,e}return a(e,t),e.prototype.start=function(){},e.prototype.show=function(t,e){var n=this,o=this;this.node.active=!0,this.node.opacity=255,this.callback=e,cc.tween(this.node).delay(.5).call(function(){o.lbl_freeSpinWin.string=r.Common.addComma2Digits(t),o.btn_continue.node.active=!0}).delay(2).call(function(){1==s.DataManager.getInstance().auto&&n.onContinue()}).start(),cc.audioEngine.playEffect(this.audio_winEnd,!1),cc.audioEngine.playEffect(this.audio_fgEnd,!1)},e.prototype.hide=function(){var t=this;this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.node.active=!1},this)))},e.prototype.onContinue=function(){var t=this;cc.tween(this.node).delay(.3).call(function(){t.callback(),t.hide()}).start()},i([l(cc.Label)],e.prototype,"lbl_freeSpinWin",void 0),i([l(cc.Button)],e.prototype,"btn_continue",void 0),i([l(cc.AudioClip)],e.prototype,"audio_winEnd",void 0),i([l(cc.AudioClip)],e.prototype,"audio_fgEnd",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Common/Common":"Common","./DataManager":"DataManager"}],FreeStart:[function(t,e,n){"use strict";cc._RF.push(e,"97f52V1v61CaIitEmiAV7m9","FreeStart");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,u=t("../Common/BtnTouchListener"),l=t("../Common/Common"),p=t("../Common/Sound"),m=t("./DataManager"),d=t("./NetTrans"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label_timer=null,e.buttons=[],e.mainScene=null,e.isSelected=!1,e}return a(e,t),e.prototype.setMainScene=function(t){this.mainScene=t},e.prototype.show=function(){var t=this;this.node.active=!0,this.label_timer.node.active=!1,this.isSelected=!1,setTimeout(function(){t.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"loop_EN",!0),t.mainScene.setMainBG(1),t.buttons.forEach(function(t){t.interactable=!0})},1e3),setTimeout(function(){t.isSelected||(t.label_timer.node.active=!0,t.count(6))},2e4),m.DataManager.getInstance().auto=!1,m.DataManager.getInstance().autoNum=0,this.mainScene.m_NumMessage.string="",this.mainScene.m_BtnSpin.active=!0,this.mainScene.m_BtnStop.node.active=!1,this.mainScene.m_BtnAutoStop.node.active=!1,this.mainScene.checkStatus()},e.prototype.count=function(t){var e=t-1;this.isSelected||(e>0?(this.label_timer.string="Auto Pick in "+e+" Seconds",this.scheduleOnce(function(){this.count(e)},1)):(this.label_timer.node.active=!1,this.scheduleOnce(function(){this.spinSelect(null,0)},1)))},e.prototype.spinSelect=function(t,e){var n=Number(e),o=this;this.isSelected=!0,d.NetTrans.sendSelectedDragon(n),m.DataManager.getInstance().freeType=n,m.DataManager.getInstance().free=!0,p.Sound.getInstance().playEffect(l.Common.s_sound.FGPick,!1,!0),setTimeout(function(){switch(n){case 0:o.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"dianji88_EN",!1);break;case 1:o.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"dianji98_EN",!1);break;case 2:o.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"dianji108_EN",!1);break;case 3:o.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"dianji118_EN",!1);break;case 4:o.node.getChildByName("FreeSpinPanel").getComponent(sp.Skeleton).setAnimation(0,"dianji128_EN",!1)}},200),setTimeout(function(){o.node.active=!1},5500),this.buttons.forEach(function(t){t.interactable=!1}),this.mainScene.m_BtnSpin.getComponent(u.default).interactable=!0},i([c(cc.Label)],e.prototype,"label_timer",void 0),i([c(cc.Button)],e.prototype,"buttons",void 0),i([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Common/BtnTouchListener":"BtnTouchListener","../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager","./NetTrans":"NetTrans"}],FuFlyAnimator:[function(t,e,n){"use strict";cc._RF.push(e,"62144f7iGFMarEJLSFMEetB","FuFlyAnimator");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("../Common/Sound"),c=t("./GameScene"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.onLoad=function(){var t=this;this.node.setPosition(this.startingPos),s.Sound.getInstance().playEffect(r.Common.s_sound.FuFly_Pick,!1,!0),cc.tween(this.node).to(1.5,{position:cc.v3(320,550)}).call(function(){}).delay(.3).call(function(){t.node.active=!1,cc.find("Canvas/GameScene").getComponent(c.default).setTreeAnimation()}).delay(3).call(function(){t.node.destroy()}).start()},e.prototype.start=function(){},i([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound","./GameScene":"GameScene"}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"9bff0++I2NGQJkGLWoo16mr","GameScene");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("../Common/GlobalData"),c=t("../Common/Sound"),u=t("./AutoSpinSetting"),l=t("./Bigwin"),p=t("./DataManager"),m=t("./FreeEnd"),d=t("./FreeStart"),h=t("./NetTrans"),g=t("./Result"),f=t("./RollMgr"),_=t("./TestGetResult"),y=t("./MoreFree"),C=t("../Common/NodeDialog"),v=t("../Network/HttpClient"),S=t("./JackpotManager"),M=t("./JackpotLayer"),I=t("../Language/Language"),D=cc._decorator,b=D.ccclass,w=D.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.bgMasks=[],e.nodeHeader=null,e.nodeFooter=null,e.m_NodeNormal=null,e.spf_backImages=[],e.m_NodeHelp=null,e.autoPlaySetting=null,e.m_FreeStart=null,e.m_MoreFree=null,e.m_FreeEnd=null,e.m_BigWinNode=null,e.rollMgr=null,e.result=null,e.m_dialog=null,e.jackpotManager=null,e.jackpotLayer=null,e.m_BtnHelp=null,e.m_BtnAutoPlay=null,e.m_BtnAutoStop=null,e.m_BtnSpin=null,e.m_BtnStop=null,e.m_BtnStopDisable=null,e.m_BtnBetUp=null,e.m_BtnBetDown=null,e.m_BtnBetMax=null,e.m_BtnHome=null,e.m_BtnFullScreenOn=null,e.m_BtnFullScreenOff=null,e.m_BtnSoundOn=null,e.m_BtnSoundOff=null,e.m_NumTotalBet=null,e.m_NumMessage=null,e.m_NumFreeTotal=null,e.m_NumFreeLeft=null,e.m_NumBalance=null,e.m_NumWin=null,e.m_BetChangeSounds=[],e.m_SoundFiles=[],e.tree_Anim=null,e.lastTreeAnimTime=null,e.winSoundDurations=[3.213,2.951,6.112,5.511,6.164],e.currentWinSoundDur=0,e.delayovergame=null,e.wasFullscreen=!1,e.nowResponsive=!1,e}return a(e,t),e.prototype.start=function(){p.DataManager.getInstance().isOpen=!0,v.default.getInstance().setDialog(this.m_dialog),this.eventRegister(),1==s.default.G_IsTest&&(p.DataManager.getInstance().money=1e8),this.m_NumTotalBet.string="0",this.m_NumWin.string="0",this.updateMoney(),c.Sound.getInstance().loadSound(this.m_SoundFiles),h.NetTrans.setMainScene(this),this.rollMgr.setMainScene(this),this.result.setMainScene(this),this.autoPlaySetting.setMainScene(this),this.m_FreeStart.setMainScene(this),this.jackpotManager.setMainScene(this),this.setVolume(),this.result.hide(),this.rollMgr.setPic(p.DataManager.getInstance().result),this.onOverGame(),this.delayovergame=new cc.Node,this.node.addChild(this.delayovergame),this.m_BigWinNode.node.active=!1,c.Sound.getInstance().playBGMusic(r.Common.s_sound.MainBG,!0),this.changeBetText(),this.lastTreeAnimTime=new Date},e.prototype.onLoad=function(){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){}),cc.game.on(cc.game.EVENT_SHOW,function(){t.onFullScreen()}),cc.sys.isMobile&&(this.m_BtnFullScreenOff.node.active=!1,this.m_BtnFullScreenOn.node.active=!1)},e.prototype.makeResponsive=function(){var t=this;this.nowResponsive||cc.sys.isMobile&&(this.nowResponsive=!0,setTimeout(function(){var e=t.node.parent.getComponent(cc.Canvas),n=cc.view.getFrameSize();if(e.designResolution.width/e.designResolution.height!=n.width/n.height){var o=e.designResolution.width/n.width,a=n.height*o;if(!(a<e.designResolution.height)){var i=Math.floor(e.designResolution.height-a);t.bgMasks.forEach(function(t){t.enabled=!1}),t.nodeHeader.runAction(cc.moveBy(0,0,-i/2)),t.nodeFooter.runAction(cc.moveBy(0,0,i/2))}}},150))},e.prototype.makeResponsiveIOS=function(){var t=this;this.nowResponsive||cc.sys.isMobile&&(this.nowResponsive=!0,setTimeout(function(){var e=t.node.parent.getComponent(cc.Canvas),n=cc.view.getFrameSize();if(e.designResolution.width/e.designResolution.height!=n.width/n.height){var o=e.designResolution.width/n.width,a=n.height*o;if(!(a<e.designResolution.height)){var i=Math.floor(e.designResolution.height-a);t.bgMasks.forEach(function(t){t.enabled=!1}),t.nodeHeader.runAction(cc.moveBy(0,0,-i/2)),t.nodeFooter.runAction(cc.moveBy(0,0,i/2))}}},150))},e.prototype.update=function(){r.Common.elapse=cc.director.getDeltaTime(),this.rollMgr.tick(),p.DataManager.getInstance().status==r.Common.eStatus.Win&&this.result.tick()},e.prototype.updateMoney=function(){this.m_NumBalance.string=r.Common.addComma2Digits(p.DataManager.getInstance().money)},e.prototype.changeBetText=function(){this.m_NumTotalBet.string=r.Common.addComma2Digits(p.DataManager.getInstance().totalBet),p.DataManager.getInstance().betIndex==r.Common.baseBet.length?this.m_BtnBetMax.interactable=!1:this.m_BtnBetMax.interactable=!0,this.jackpotLayer.manualSetting({jp_value:[r.Common.addComma2Digits(2e5*r.Common.baseBet[p.DataManager.getInstance().betIndex-1]),r.Common.addComma2Digits(75e3*r.Common.baseBet[p.DataManager.getInstance().betIndex-1]),r.Common.addComma2Digits(3750*r.Common.baseBet[p.DataManager.getInstance().betIndex-1]),r.Common.addComma2Digits(2e3*r.Common.baseBet[p.DataManager.getInstance().betIndex-1])]})},e.prototype.checkStatus=function(){p.DataManager.getInstance().auto||p.DataManager.getInstance().nextFree>0?(this.m_BtnBetUp.interactable=!1,this.m_BtnBetDown.interactable=!1,this.m_BtnBetMax.interactable=!1):(this.m_BtnBetUp.interactable=!0,this.m_BtnBetDown.interactable=!0,this.m_BtnBetMax.interactable=!0)},e.prototype.EnableBtn=function(t){p.DataManager.getInstance().nextFree>0?(this.m_BtnBetUp.interactable=!1,this.m_BtnBetDown.interactable=!1):(this.m_BtnBetUp.interactable=t,this.m_BtnBetDown.interactable=t)},e.prototype.updateFullScreen=function(){1==cc.screen.fullScreen()?(this.m_BtnFullScreenOff.node.active=!0,this.m_BtnFullScreenOn.node.active=!1):(this.m_BtnFullScreenOff.node.active=!1,this.m_BtnFullScreenOn.node.active=!0),cc.sys.isMobile&&(this.m_BtnFullScreenOff.node.active=!1,this.m_BtnFullScreenOn.node.active=!1)},e.prototype.onFullScreen=function(){var t=this;cc.screen.requestFullScreen(document.documentElement,function(){}),cc.tween(this.node).delay(.1).call(function(){t.updateFullScreen()}).start()},e.prototype.offFullScreen=function(){var t=this;cc.screen.exitFullScreen(),cc.tween(this.node).delay(.1).call(function(){t.updateFullScreen()}).start()},e.prototype.setVolume=function(){cc.audioEngine.getEffectsVolume()>0?(this.m_BtnSoundOn.node.active=!0,this.m_BtnSoundOff.node.active=!1):(this.m_BtnSoundOn.node.active=!1,this.m_BtnSoundOff.node.active=!0)},e.prototype.setMainBG=function(t,e){switch(void 0===e&&(e=void 0),t){case 0:this.m_NodeNormal.getChildByName("node_NG_FG").active=!0,this.m_NodeNormal.getChildByName("node_JP").active=!1,this.m_NodeNormal.getChildByName("node_NG_FG").getChildByName("FGNumber").active=!1,this.m_NodeNormal.getChildByName("node_NG_FG").getChildByName("Mask").getChildByName("Background_NG").getComponent(cc.Sprite).spriteFrame=this.spf_backImages[0],this.rollMgr.node.active=!0,this.result.node.active=!0,this.nodeFooter.active=!0;break;case 1:this.m_NodeNormal.getChildByName("node_NG_FG").active=!0,this.m_NodeNormal.getChildByName("node_JP").active=!1,this.m_NodeNormal.getChildByName("node_NG_FG").getChildByName("FGNumber").active=!0,this.m_NodeNormal.getChildByName("node_NG_FG").getChildByName("Mask").getChildByName("Background_NG").getComponent(cc.Sprite).spriteFrame=this.spf_backImages[1],this.rollMgr.node.active=!0,this.result.node.active=!0,this.nodeFooter.active=!0;break;case 2:this.m_NodeNormal.getChildByName("node_NG_FG").active=!1,this.m_NodeNormal.getChildByName("node_JP").active=!0,this.rollMgr.node.active=!1,this.result.node.active=!1,this.nodeFooter.active=!1}2==e&&this.tree_Anim.setAnimation(0,"idle4",!0)},e.prototype.setTreeAnimation=function(){var t=["open","waiting"];((new Date).getTime()-this.lastTreeAnimTime.getTime())/1e3>1&&(c.Sound.getInstance().playEffect(r.Common.s_sound.Tree_Shaking,!1,!0),this.tree_Anim.setAnimation(0,"shake4",!1),p.DataManager.getInstance().jackpots&&p.DataManager.getInstance().jackpots.jackpotWin&&p.DataManager.getInstance().jackpots.jackpotWin>0?(this.tree_Anim.addAnimation(0,t[0],!1),this.tree_Anim.addAnimation(0,t[1],!0)):this.tree_Anim.addAnimation(0,"idle4",!0)),this.lastTreeAnimTime=new Date},e.prototype.playbigact=function(){},e.prototype.hidebigact=function(){},e.prototype.checkBigWin=function(){for(var t=p.DataManager.getInstance().winMoney/p.DataManager.getInstance().totalBet,e=r.Common.BigWinOdd.length-1;e>=0;e--)if(t>=r.Common.BigWinOdd[e])return e;return-1},e.prototype.showBigWin=function(t,e){var n=this;this.m_BigWinNode.show(e,p.DataManager.getInstance().winMoney,function(){n.result.addingCoin>0&&(n.result.addingCoinStop=!0)}),p.DataManager.getInstance().isBigWin=t},e.prototype.hideBigWin=function(){this.m_BigWinNode.hide()},e.prototype.playAddCoinSound=function(){this.currentWinSoundDur=0;var t=this.checkBigWin();if(t>-1&&!p.DataManager.getInstance().free)return this.showBigWin(!0,t,null),!0;var e=r.Common.randomNumber(0,4);return this.currentWinSoundDur=this.winSoundDurations[e],c.Sound.getInstance().playEffect(r.Common.s_sound.LineWin_1+e,!1,!0),!1},e.prototype.delaySendOverGame=function(){this.playbigact(),cc.tween(this.delayovergame).stop();var t=this;cc.tween(this.delayovergame).delay(2).call(function(){t.onOverGame()}).start()},e.prototype.freeDelaySendOverGame=function(){cc.tween(this.delayovergame).stop();var t=this;cc.tween(this.delayovergame).delay(2).call(function(){t.onOverGame()}).start()},e.prototype.eventRegister=function(){var t=this;this.node.on(r.Common.CustomEvent.EventStartRoll,function(){t.result.hide(),p.DataManager.getInstance().lastBetIndex=p.DataManager.getInstance().betIndex,t.EnableBtn(!1),t.hideBigWin(),p.DataManager.getInstance().status=r.Common.eStatus.Running,p.DataManager.getInstance().nextFree>0?(t.rollMgr.setFreeColumn(2),t.m_NumFreeTotal.string=""+Math.floor(p.DataManager.getInstance().totalFreeSpins),t.m_NumFreeLeft.string=""+Math.floor(p.DataManager.getInstance().nextFree-1)):(t.rollMgr.setFreeColumn(1),1==p.DataManager.getInstance().free&&(t.setMainBG(1),p.DataManager.getInstance().free=!1),p.DataManager.getInstance().autoNum>0&&(t.m_NumMessage.string=""+p.DataManager.getInstance().autoNum),p.DataManager.getInstance().money=p.DataManager.getInstance().money-p.DataManager.getInstance().totalBet,p.DataManager.getInstance().money<0&&(p.DataManager.getInstance().money=0),t.updateMoney()),t.changeBetText(),p.DataManager.getInstance().overgame=!1,p.DataManager.getInstance().received=!1,p.DataManager.getInstance().betEnable=!1,s.default.G_IsTest?cc.tween(t.node).delay(.5).call(function(){t.onResult()}).start():h.NetTrans.sendStartInfo(p.DataManager.getInstance().totalBet/r.Common.baseCoin[0])}),this.node.on(r.Common.CustomEvent.EventStartAll,function(){0==p.DataManager.getInstance().auto&&(t.m_BtnSpin.active=!1,t.m_BtnStop.node.active=!1,t.m_BtnStopDisable.node.active=!p.DataManager.getInstance().auto,t.m_BtnAutoStop.interactable=!1,cc.tween(t.delayovergame).delay(1).call(function(){t.m_BtnStop.node.active=!p.DataManager.getInstance().auto,t.m_BtnStopDisable.node.active=!1,t.m_BtnAutoStop.interactable=!0}).start()),cc.audioEngine.stopAllEffects()}),this.node.on(r.Common.CustomEvent.EventStopRoll,function(){cc.tween(t.node).delay(0).call(function(){t.result.show(),p.DataManager.getInstance().winMoney>0?p.DataManager.getInstance().status=r.Common.eStatus.Win:p.DataManager.getInstance().status=r.Common.eStatus.Wait,p.DataManager.getInstance().isCanReset=!1,p.DataManager.getInstance().free&&0==p.DataManager.getInstance().nextFree||0==p.DataManager.getInstance().free&&p.DataManager.getInstance().nextFree>0||cc.tween(t.node).delay(.1).call(function(){t.onOverGame()}).start()}).start()}),this.node.on(r.Common.CustomEvent.EventStopAutoResult,function(){0==p.DataManager.getInstance().nextFree&&p.DataManager.getInstance().overgame&&p.DataManager.getInstance().totalBet>0&&t.onSpin()}),this.node.on(r.Common.CustomEvent.EventStopRespinResult,function(){!0===p.DataManager.getInstance().auto&&t.node.dispatchEvent(new cc.Event.EventCustom(r.Common.CustomEvent.EventStopAutoResult,!0))}),this.node.on(r.Common.CustomEvent.EventStopFreeResult,function(){p.DataManager.getInstance().nextFree>0?p.DataManager.getInstance().overgame?t.onSpin():p.DataManager.getInstance().playEnd=!0:!0===p.DataManager.getInstance().auto&&t.node.dispatchEvent(new cc.Event.EventCustom(r.Common.CustomEvent.EventStopAutoResult,!0))})},e.prototype.bet=function(){p.DataManager.getInstance().totalBet=r.Common.baseBet[p.DataManager.getInstance().betIndex-1]*r.Common.baseCoin[p.DataManager.getInstance().coinIndex-1],this.checkStatus(),this.changeBetText()},e.prototype.reset=function(t){p.DataManager.getInstance().nextFree>0?(this.m_BtnStop.node.active=!1,this.m_BtnSpin.active=!0,this.m_BtnAutoStop.node.active=p.DataManager.getInstance().auto):(this.bet(),p.DataManager.getInstance().totalBet>0&&(this.m_BtnStop.node.active=!1,this.m_BtnSpin.active=!0,this.m_BtnAutoStop.node.active=p.DataManager.getInstance().auto,this.m_BtnAutoStop.interactable=p.DataManager.getInstance().auto,p.DataManager.getInstance().auto)),t&&this.changeBetText()},e.prototype.onOverGame=function(){p.DataManager.getInstance().overgame=!0,p.DataManager.getInstance().nextFree>0?(p.DataManager.getInstance().isCanReset&&this.reset(h.NetTrans.first),h.NetTrans.first&&(p.DataManager.getInstance().free=!0,this.setMainBG(1),c.Sound.getInstance().stopBGMusic(),c.Sound.getInstance().playBGMusic(r.Common.s_sound.FreeBG,!0)),this.result.isVisible()||p.DataManager.getInstance().playEnd&&this.rollMgr.runAll()):(p.DataManager.getInstance().auto||(p.DataManager.getInstance().betEnable=!0),p.DataManager.getInstance().isCanReset&&this.reset(h.NetTrans.first),this.result.isVisible()||(this.changeBetText(),p.DataManager.getInstance().auto&&p.DataManager.getInstance().playEnd&&this.onSpin())),h.NetTrans.first&&(h.NetTrans.first=!1)},e.prototype.onResult=function(){s.default.G_IsTest&&_.TestGetResult.generate(),p.DataManager.getInstance().received=!0,this.result.setScore(null),this.rollMgr.setCanStop(p.DataManager.getInstance().result),this.rollMgr.isStopAll()&&0==p.DataManager.getInstance().auto&&(this.m_BtnSpin.active=!0,this.m_BtnStop.node.active=!1,this.m_BtnStopDisable.node.active=!1)},e.prototype.onSpin=function(){var t=this;1==this.autoPlaySetting.node.active&&(this.autoPlaySetting.node.active=!1),p.DataManager.getInstance().jackpots&&p.DataManager.getInstance().jackpots.jackpotWin&&p.DataManager.getInstance().jackpots.jackpotWin>0||(p.DataManager.getInstance().money<p.DataManager.getInstance().totalBet?v.default.getInstance().dialg.show(I.default.getInstance().getString("noBalance")):(1==p.DataManager.getInstance().auto&&!p.DataManager.getInstance().free&&p.DataManager.getInstance().nextFree<=0&&(p.DataManager.getInstance().autoNum--,p.DataManager.getInstance().autoNum<=0&&(p.DataManager.getInstance().autoNum=0,p.DataManager.getInstance().auto=!1)),0==p.DataManager.getInstance().free&&(this.m_BtnSpin.active=!1,this.m_BtnStop.node.active=!1,this.m_BtnStopDisable.node.active=!p.DataManager.getInstance().auto,this.m_BtnAutoStop.interactable=!1,cc.tween(this.node).delay(1).call(function(){t.m_BtnStopDisable.node.active=!1,t.m_BtnStop.node.active=!p.DataManager.getInstance().auto,t.m_BtnAutoStop.interactable=!0}).start()),this.rollMgr.runAll()))},e.prototype.onStop=function(){p.DataManager.getInstance().auto?this.onStopAuto():(c.Sound.getInstance().playEffect(r.Common.s_sound.BtnStop,!1,!0),p.DataManager.getInstance().received&&(this.m_BtnSpin.active=!0,this.m_BtnStop.node.active=!1,this.m_BtnStopDisable.node.active=!1),this.rollMgr.stopAll())},e.prototype.onBetDown=function(){p.DataManager.getInstance().betIndex--,p.DataManager.getInstance().betIndex<1&&(p.DataManager.getInstance().betIndex=r.Common.baseBet.length),p.DataManager.getInstance().totalBet=r.Common.baseBet[p.DataManager.getInstance().betIndex-1]*r.Common.baseCoin[p.DataManager.getInstance().coinIndex-1],this.changeBetText(),cc.audioEngine.playEffect(this.m_BetChangeSounds[p.DataManager.getInstance().betIndex-1],!1)},e.prototype.onBetUp=function(){p.DataManager.getInstance().betIndex++,p.DataManager.getInstance().betIndex>r.Common.baseBet.length&&(p.DataManager.getInstance().betIndex=1),cc.audioEngine.playEffect(this.m_BetChangeSounds[p.DataManager.getInstance().betIndex-1],!1),p.DataManager.getInstance().totalBet=r.Common.baseBet[p.DataManager.getInstance().betIndex-1]*r.Common.baseCoin[p.DataManager.getInstance().coinIndex-1],this.changeBetText()},e.prototype.onBetMax=function(){p.DataManager.getInstance().betIndex=r.Common.baseBet.length,cc.audioEngine.playEffect(this.m_BetChangeSounds[p.DataManager.getInstance().betIndex-1],!1),p.DataManager.getInstance().totalBet=r.Common.baseBet[p.DataManager.getInstance().betIndex-1]*r.Common.baseCoin[p.DataManager.getInstance().coinIndex-1],this.changeBetText()},e.prototype.onInfo=function(){this.m_NodeHelp.active=!0,c.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0)},e.prototype.onAutoPlay=function(){c.Sound.getInstance().playEffect(r.Common.s_sound.AllButton,!1,!0),this.autoPlaySetting.node.active=!0,this.autoPlaySetting.getComponent(cc.Animation).play()},e.prototype.onEventAutoPlay=function(){p.DataManager.getInstance().auto=!0,this.m_BtnAutoStop.node.active=!0,p.DataManager.getInstance().totalBet>0&&this.onSpin()},e.prototype.onStopAuto=function(){c.Sound.getInstance().playEffect(r.Common.s_sound.AllButton,!1,!0),p.DataManager.getInstance().auto=!1,p.DataManager.getInstance().autoNum=0,this.m_NumMessage.string="",this.m_BtnSpin.active=!0,this.m_BtnAutoStop.node.active=!1,p.DataManager.getInstance().overgame&&(p.DataManager.getInstance().betEnable=!0,this.checkStatus())},e.prototype.onBackHome=function(){history.go(-1)},e.prototype.onSoundOn=function(){c.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0),cc.audioEngine.setEffectsVolume(0),cc.audioEngine.setMusicVolume(0),this.m_BtnSoundOff.node.active=!0,this.m_BtnSoundOn.node.active=!1},e.prototype.onSoundOff=function(){c.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0),cc.audioEngine.setEffectsVolume(1),cc.audioEngine.setMusicVolume(1),this.m_BtnSoundOff.node.active=!1,this.m_BtnSoundOn.node.active=!0},e.prototype.onUpdateMoney=function(t){p.DataManager.getInstance().money=p.DataManager.getInstance().money+t,p.DataManager.getInstance().money<.005&&(p.DataManager.getInstance().money=0),this.updateMoney(),(p.DataManager.getInstance().status==r.Common.eStatus.Idle||p.DataManager.getInstance().status==r.Common.eStatus.Wait||p.DataManager.getInstance().status==r.Common.eStatus.Win)&&1==p.DataManager.getInstance().overgame&&p.DataManager.getInstance().nextFree<=0&&(this.m_BtnAutoStop.node.active=!1,this.m_BtnSpin.active=!0,this.reset(h.NetTrans.first),this.result.isVisible()||(this.changeBetText(),p.DataManager.getInstance().auto&&p.DataManager.getInstance().playEnd&&this.rollMgr.runAll()))},e.prototype.changeBets=function(t){(t=p.DataManager.getInstance().betIndex+t)<1&&(t=r.Common.baseBet.length),t>r.Common.baseBet.length&&(t=1),p.DataManager.getInstance().money<=.005||t>0&&t<=r.Common.baseBet.length&&(p.DataManager.getInstance().betIndex=t,p.DataManager.getInstance().totalBet=r.Common.baseCoin[0]*r.Common.baseBet[t-1],this.changeBetText())},e.prototype.leave=function(){this.node.stopAllActions(),this.result.leave(),this.rollMgr.leave()},i([w(cc.Camera)],e.prototype,"camera",void 0),i([w(cc.Mask)],e.prototype,"bgMasks",void 0),i([w(cc.Node)],e.prototype,"nodeHeader",void 0),i([w(cc.Node)],e.prototype,"nodeFooter",void 0),i([w(cc.Node)],e.prototype,"m_NodeNormal",void 0),i([w(cc.SpriteFrame)],e.prototype,"spf_backImages",void 0),i([w(cc.Node)],e.prototype,"m_NodeHelp",void 0),i([w(u.default)],e.prototype,"autoPlaySetting",void 0),i([w(d.default)],e.prototype,"m_FreeStart",void 0),i([w(y.default)],e.prototype,"m_MoreFree",void 0),i([w(m.default)],e.prototype,"m_FreeEnd",void 0),i([w(l.default)],e.prototype,"m_BigWinNode",void 0),i([w(f.default)],e.prototype,"rollMgr",void 0),i([w(g.default)],e.prototype,"result",void 0),i([w(C.default)],e.prototype,"m_dialog",void 0),i([w(S.default)],e.prototype,"jackpotManager",void 0),i([w(M.default)],e.prototype,"jackpotLayer",void 0),i([w(cc.Button)],e.prototype,"m_BtnHelp",void 0),i([w(cc.Button)],e.prototype,"m_BtnAutoPlay",void 0),i([w(cc.Button)],e.prototype,"m_BtnAutoStop",void 0),i([w(cc.Node)],e.prototype,"m_BtnSpin",void 0),i([w(cc.Button)],e.prototype,"m_BtnStop",void 0),i([w(cc.Button)],e.prototype,"m_BtnStopDisable",void 0),i([w(cc.Button)],e.prototype,"m_BtnBetUp",void 0),i([w(cc.Button)],e.prototype,"m_BtnBetDown",void 0),i([w(cc.Button)],e.prototype,"m_BtnBetMax",void 0),i([w(cc.Button)],e.prototype,"m_BtnHome",void 0),i([w(cc.Button)],e.prototype,"m_BtnFullScreenOn",void 0),i([w(cc.Button)],e.prototype,"m_BtnFullScreenOff",void 0),i([w(cc.Button)],e.prototype,"m_BtnSoundOn",void 0),i([w(cc.Button)],e.prototype,"m_BtnSoundOff",void 0),i([w(cc.Label)],e.prototype,"m_NumTotalBet",void 0),i([w(cc.Label)],e.prototype,"m_NumMessage",void 0),i([w(cc.Label)],e.prototype,"m_NumFreeTotal",void 0),i([w(cc.Label)],e.prototype,"m_NumFreeLeft",void 0),i([w(cc.Label)],e.prototype,"m_NumBalance",void 0),i([w(cc.Label)],e.prototype,"m_NumWin",void 0),i([w(cc.AudioClip)],e.prototype,"m_BetChangeSounds",void 0),i([w(cc.AudioClip)],e.prototype,"m_SoundFiles",void 0),i([w(sp.Skeleton)],e.prototype,"tree_Anim",void 0),i([b],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../Common/Common":"Common","../Common/GlobalData":"GlobalData","../Common/NodeDialog":"NodeDialog","../Common/Sound":"Sound","../Language/Language":"Language","../Network/HttpClient":"HttpClient","./AutoSpinSetting":"AutoSpinSetting","./Bigwin":"Bigwin","./DataManager":"DataManager","./FreeEnd":"FreeEnd","./FreeStart":"FreeStart","./JackpotLayer":"JackpotLayer","./JackpotManager":"JackpotManager","./MoreFree":"MoreFree","./NetTrans":"NetTrans","./Result":"Result","./RollMgr":"RollMgr","./TestGetResult":"TestGetResult"}],GlobalData:[function(t,e,n){"use strict";cc._RF.push(e,"f431cWQ+A5Ee5IiM9aYt2iD","GlobalData");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function t(){}return t.G_IsTest=!0,t.G_IsConnect=!1,o([i],t)}());n.default=r,cc._RF.pop()},{}],Help:[function(t,e,n){"use strict";cc._RF.push(e,"f9062+r6GhOpqoV45mzYohG","Help");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("../Common/Sound"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_HelpInfoImages=[],e.m_HelpInfoPanel=null,e.m_BtnArrowLeft=null,e.m_BtnArrowRight=null,e.m_BtnBack=null,e.m_CurrentPage=0,e}return a(e,t),e.prototype.onArrowLeft=function(){this.m_CurrentPage--,this.m_CurrentPage<0&&(this.m_CurrentPage+=4),this.m_HelpInfoPanel.spriteFrame=this.m_HelpInfoImages[this.m_CurrentPage%4],s.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0)},e.prototype.onArrowRight=function(){this.m_CurrentPage++,this.m_HelpInfoPanel.spriteFrame=this.m_HelpInfoImages[this.m_CurrentPage%4],s.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0)},e.prototype.onBack=function(){this.node.active=!1,s.Sound.getInstance().playEffect(r.Common.s_sound.BtnSound,!1,!0)},i([l(cc.SpriteFrame)],e.prototype,"m_HelpInfoImages",void 0),i([l(cc.Sprite)],e.prototype,"m_HelpInfoPanel",void 0),i([l(cc.Button)],e.prototype,"m_BtnArrowLeft",void 0),i([l(cc.Button)],e.prototype,"m_BtnArrowRight",void 0),i([l(cc.Button)],e.prototype,"m_BtnBack",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound"}],HttpClient:[function(t,e,n){"use strict";cc._RF.push(e,"05685nAHW9IBLQJgBRWen5d","HttpClient");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,t("../Language/Language")),s=t("../FortuneTree/NetTrans"),c=function(){function t(){}var e;return e=t,t.getInstance=function(){return null==e._instance&&(e._instance=new e,e._instance.dialg=cc.find("node_Dialog")),e._instance},t.prototype.ServerConnect=function(t){var e=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState)if(this.status>=200&&this.status<400){var t=JSON.parse(this.responseText);"error"==t.responseEvent?null!=e.dialg&&e.dialg.show(r.default.getInstance().getString(t.serverResponse)):e.ResponseController(t)}else 404==this.status&&null!=e.dialg&&e.dialg.show(r.default.getInstance().getString("NetworkError"))},n.addEventListener("error",function(){null!=e.dialg&&e.dialg.show(r.default.getInstance().getString("NetworkError"))});var o=JSON.stringify(t);n.timeout=55e3,n.open("POST","http://localhost:8000/game/FortuneTreeJW/server?sessionId=null",!0),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.send(o)},t.prototype.ResponseController=function(t){s.NetTrans.onCommand(t)},t.prototype.setDialog=function(t){this.dialg=t},t._instance=null,e=o([i],t)}();n.default=c,cc._RF.pop()},{"../FortuneTree/NetTrans":"NetTrans","../Language/Language":"Language"}],JackpotLayer:[function(t,e,n){"use strict";cc._RF.push(e,"bc03c0wvLNBxr8PkR5FxVbw","JackpotLayer");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./LabelNumRoll"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grandBoard=null,e.majorBoard=null,e.minorBoard=null,e.miniBoard=null,e.jpNumList=[],e.jpNumNode=[],e.jpLoadingList=[],e.jpNum=4,e.groupNum=5,e.uninitialized=!0,e.changeGroup=!1,e.jpLastSendTime=new Date,e.jpInterval=10,e.jpLastList=[],e.jpCurrentList=[],e.isLocked=!1,e.jpTargetList=[],e.jpWin=0,e.updateInterval=1/12,e.updateAccumulation=0,e}return a(e,t),e.prototype.onLoad=function(){this.jpNum=4,this.groupNum=5,this.uninitialized=!0,this.changeGroup=!1,this.jpLastSendTime=new Date,this.jpInterval=10,this.jpLastList=[],this.jpCurrentList=[],this.isLocked=!1},e.prototype.reset=function(){this.jpLastSendTime=new Date,this.jpTargetList=null;for(var t=0;t<this.jpNum;t++)this.jpLoadingList[t].active=!0,this.jpNumList[t].node.active=!1;this.uninitialized=!0},e.prototype.update=function(){},e.prototype.updateJackpotDisplay=function(){if(this.uninitialized){for(var t=0;t<this.jpNum;t++)this.jpLoadingList[t].active=!1,this.jpNumList[t].node.active=!0,this.jpLastList[t]=this.jpCurrentList[t];this.uninitialized=!1}else for(t=0;t<this.jpNum;t++)this.jpLastList[t]!=this.jpCurrentList[t]&&(this.jpLastList[t]=this.jpCurrentList[t])},e.prototype.onJpCmd=function(t){this.updateTargetJackpot(t.jp_value)},e.prototype.updateTargetJackpot=function(t){if(null==this.jpTargetList&&(this.jpTargetList=[]),null!=t)for(var e=0;e<this.jpNum;e++)this.jpTargetList[e]=Number(t[e])},e.prototype.lock=function(t,e,n){this.isLocked=!0,this.updateTargetJackpot(n);for(var o=0;o<this.jpNum;o++)this.jpCurrentList[o]=this.jpTargetList[o];this.jpCurrentList[t]=e,this.jpWin=t},e.prototype.unlock=function(){this.isLocked&&(this.isLocked=!1)},e.prototype.refreshUI=function(){this.grandBoard.clearTrack(0),this.grandBoard.setAnimation(0,"Grand_EN",!0),this.majorBoard.clearTrack(0),this.majorBoard.setAnimation(0,"Major_EN",!0),this.minorBoard.clearTrack(0),this.minorBoard.setAnimation(0,"Minor_EN",!0),this.miniBoard.clearTrack(0),this.miniBoard.setAnimation(0,"Mini_EN",!0)},e.prototype.scaleJP=function(){for(var t=0;t<4;t++)this.jpNumNode[t].runAction(cc.sequence(cc.scaleTo(.13,1.2),cc.scaleTo(.13,1)))},e.prototype.manualSetting=function(t){this.jpLoadingList.forEach(function(t){t.active=!1}),this.jpNumNode.forEach(function(t){t.active=!0});for(var e=0;e<this.jpNum;e++)this.jpNumList[e].string=t.jp_value[e]},i([u(sp.Skeleton)],e.prototype,"grandBoard",void 0),i([u(sp.Skeleton)],e.prototype,"majorBoard",void 0),i([u(sp.Skeleton)],e.prototype,"minorBoard",void 0),i([u(sp.Skeleton)],e.prototype,"miniBoard",void 0),i([u(r.default)],e.prototype,"jpNumList",void 0),i([u(cc.Node)],e.prototype,"jpNumNode",void 0),i([u(cc.Node)],e.prototype,"jpLoadingList",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./LabelNumRoll":"LabelNumRoll"}],JackpotManager:[function(t,e,n){"use strict";cc._RF.push(e,"1e3b5AqLZhGxKlvP8RZ1Csl","JackpotManager");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,u=t("../Common/Sound"),l=t("../Common/Common"),p=t("./DataManager"),m=t("../Common/BtnTouchListener"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainScene=null,e.bgTip=null,e.m_JackpotCoins=[],e.m_JackpotIdles=[],e.m_NodeResult=null,e.m_btnHide=null,e.tree=null,e.spTree=null,e.treeFly=null,e.ng2bg=null,e.spf_Boards=[],e.spf_Sticks=[],e.spf_JackTypes=[],e.audioBgBegin=null,e.audioBgBgm=null,e.audioBgEnd=null,e.audioFgBgm=null,e.audioTreeLongShake=null,e.eleIndex=["flip4","flip3","flip2","flip1"],e.jackpotIndex=["Baby4","Baby3","Baby2","Baby1"],e.wordAnimIndex=["Word4_EN","Word3_EN","Word2_EN","Word1_EN"],e.coinGlowIndex=["glow4a","glow3a","glow2a","glow1a"],e.coinSelectedIndex=["glow4b","glow3b","glow2b","glow1b"],e.coinsCenterOffsets=[new cc.Vec2(-257.5,-19.5),new cc.Vec2(-85.5,-58.5),new cc.Vec2(86.5,-58.5),new cc.Vec2(258.5,-19.5),new cc.Vec2(-257.5,-201.5),new cc.Vec2(-85.5,-240.5),new cc.Vec2(86.5,-240.5),new cc.Vec2(258.5,-201.5),new cc.Vec2(-262.5,-383.5),new cc.Vec2(-85.5,-422.5),new cc.Vec2(86.5,-422.5),new cc.Vec2(263.5,-383.5)],e.jackpotClickedCount=[0,0,0,0],e.clickingFinish=!1,e.miniIDs="",e.minorIDs="",e.majorIDs="",e.grandIDs="",e.selectionResult=[],e.jackpotWin=0,e}return a(e,t),e.prototype.onEnable=function(){},e.prototype.perform=function(){this.node.active=!0,this.node.stopAllActions(),this.mainScene.m_BtnSpin.getComponent(m.default).interactable=!1,this.jackpotClickedCount=[0,0,0,0],this.clickingFinish=!1,this.miniIDs="",this.minorIDs="",this.majorIDs="",this.grandIDs="",this.m_JackpotCoins.forEach(function(t){t.getComponent(cc.Button).interactable=!0,t.active=!1,t.getChildByName("CoinGlow").active=!1,t.getChildByName("CoinFlip").active=!0,t.getChildByName("CoinFlip").getComponent(sp.Skeleton).setAnimation(0,"Coin_idle_1",!0),t.getChildByName("JPBaby").active=!1,t.getChildByName("JPWord").active=!1}),this.m_NodeResult.getChildByName("Mask").getComponent(cc.Animation).stop(),this.m_NodeResult.getChildByName("Mask").getChildByName("Board").getComponent(cc.Sprite).spriteFrame=this.spf_Boards[0],this.m_NodeResult.getChildByName("Title").active=!1,this.m_NodeResult.getChildByName("Price").active=!1,this.m_NodeResult.getChildByName("Price").getComponent(cc.Label).string="",this.m_NodeResult.getChildByName("Character").active=!1,this.m_NodeResult.getChildByName("Character").getComponent(sp.Skeleton).setAnimation(0,"Baby4",!0),this.m_NodeResult.getChildByName("Left").getComponent(cc.Animation).stop(),this.m_NodeResult.getChildByName("Left").getComponent(cc.Sprite).spriteFrame=this.spf_Sticks[0],this.m_NodeResult.getChildByName("Right").getComponent(cc.Animation).stop(),this.m_NodeResult.getChildByName("Right").getComponent(cc.Sprite).spriteFrame=this.spf_Sticks[0],this.m_NodeResult.getChildByName("Jackpot_M").getComponent(sp.Skeleton).setAnimation(0,"Grand_I",!1),this.m_NodeResult.active=!1,this.ng2bg.node.opacity=255,this.m_btnHide.interactable=!1,this.tree.active=!0,this.spTree.node.active=!0,this.spTree.setAnimation(0,"open",!1),this.spTree.addAnimation(0,"idle8",!0);for(var t=0;t<this.m_JackpotCoins.length;t++)this.m_JackpotCoins[t].setPosition(this.coinsCenterOffsets[t]);this.mainScene.setMainBG(2),this.treeFly.node.active=!0,this.treeFly.setAnimation(0,"animation2",!1),this.node.runAction(cc.sequence(cc.delayTime(1.2),cc.callFunc(function(){this.treeFly.node.active=!1,this.m_JackpotCoins.forEach(function(t){t.active=!0})},this)))},e.prototype.setMainScene=function(t){this.mainScene=t},e.prototype.setSelectionResult=function(t,e){this.selectionResult=e.split("|"),this.jackpotWin=t},e.prototype.onJackpotCoin=function(t,e){if(!this.clickingFinish){var n=this;u.Sound.getInstance().playEffect(l.Common.s_sound.AllButton,!1,!0);var o=Number(e),a=Number(this.selectionResult.shift());switch(this.m_JackpotCoins[o].getComponent(cc.Button).interactable=!1,this.m_JackpotCoins[o].getChildByName("CoinFlip").getComponent(sp.Skeleton).setAnimation(0,this.eleIndex[a],!1),this.m_JackpotCoins[o].getChildByName("JPWord").active=!0,this.m_JackpotCoins[o].getChildByName("JPWord").getComponent(sp.Skeleton).setAnimation(0,this.wordAnimIndex[a],!1),this.m_JackpotCoins[o].getChildByName("CoinGlow").active=!0,this.m_JackpotCoins[o].getChildByName("CoinGlow").getComponent(sp.Skeleton).setAnimation(0,this.coinGlowIndex[a],!0),this.jackpotClickedCount[a]++,a){case 0:this.miniIDs+=o+",";break;case 1:this.minorIDs+=o+",";break;case 2:this.majorIDs+=o+",";break;case 3:this.grandIDs+=o+","}if(this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.m_JackpotIdles[o].active=!0,n.m_JackpotIdles[o].getComponent(sp.Skeleton).setAnimation(0,n.jackpotIndex[a],!0)},this))),3==this.jackpotClickedCount[a]){var i=void 0;switch(a){case 0:i=this.miniIDs.split(",",3);break;case 1:i=this.minorIDs.split(",",3);break;case 2:i=this.majorIDs.split(",",3);break;case 3:i=this.grandIDs.split(",",3)}this.m_JackpotCoins[i[0]].getChildByName("CoinGlow").getComponent(sp.Skeleton).setAnimation(0,this.coinSelectedIndex[a],!0),this.m_JackpotCoins[i[1]].getChildByName("CoinGlow").getComponent(sp.Skeleton).setAnimation(0,this.coinSelectedIndex[a],!0),this.m_JackpotCoins[i[2]].getChildByName("CoinGlow").getComponent(sp.Skeleton).setAnimation(0,this.coinSelectedIndex[a],!0),this.clickingFinish=!0,this.node.runAction(cc.sequence(cc.delayTime(3.5),cc.callFunc(function(){n.ShowResultScreen(a)},this)))}}},e.prototype.ShowResultScreen=function(t){var e=this;this.m_NodeResult.active=!0,this.m_NodeResult.runAction(cc.sequence(cc.fadeTo(0,255),cc.callFunc(function(){e.m_NodeResult.opacity=255}))),this.m_NodeResult.getChildByName("Mask").getChildByName("Board").getComponent(cc.Sprite).spriteFrame=this.spf_Boards[t],this.m_NodeResult.getChildByName("Left").getComponent(cc.Sprite).spriteFrame=this.spf_Sticks[t],this.m_NodeResult.getChildByName("Right").getComponent(cc.Sprite).spriteFrame=this.spf_Sticks[t],this.m_NodeResult.getChildByName("Title").getComponent(cc.Sprite).spriteFrame=this.spf_JackTypes[t],this.m_NodeResult.getChildByName("Price").getComponent(cc.Label).string=l.Common.addComma2Digits(Number(this.jackpotWin)),cc.audioEngine.stopAllEffects(),cc.audioEngine.stopMusic(),cc.audioEngine.playEffect(this.audioBgEnd,!1),this.m_NodeResult.getChildByName("Mask").getComponent(cc.Animation).play(),this.m_NodeResult.getChildByName("Left").getComponent(cc.Animation).play(),this.m_NodeResult.getChildByName("Right").getComponent(cc.Animation).play(),this.m_NodeResult.getChildByName("Jackpot_M").getComponent(sp.Skeleton).setAnimation(0,"Grand_I",!1),this.node.runAction(cc.sequence(cc.delayTime(.35),cc.callFunc(function(){e.m_NodeResult.getChildByName("Title").active=!0,e.m_NodeResult.getChildByName("Price").active=!0,e.m_NodeResult.getChildByName("Character").active=!0,e.m_NodeResult.getChildByName("Character").getComponent(sp.Skeleton).setAnimation(0,e.jackpotIndex[t],!0)},this))),e.m_NodeResult.getChildByName("Jackpot_M").getComponent(sp.Skeleton).setAnimation(0,"Grand_L",!0),this.node.runAction(cc.sequence(cc.delayTime(3.5),cc.callFunc(function(){e.m_btnHide.interactable&&e.hideManager()},this))),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){e.m_btnHide.interactable=!0},this)))},e.prototype.hideManager=function(){this.m_btnHide.interactable=!1;var t=this;p.DataManager.getInstance().jackpots={},this.m_NodeResult.runAction(cc.sequence(cc.fadeTo(1,0),cc.callFunc(function(){t.m_NodeResult.opacity=0}))),t.spTree.setAnimation(0,"change8",!1),t.spTree.addAnimation(0,"idle4",!0),t.ng2bg.node.runAction(cc.fadeOut(.5)),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){p.DataManager.getInstance().free&&p.DataManager.getInstance().nextFree>0&&(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(t.audioFgBgm,!0),cc.audioEngine.setMusicVolume(1)),t.mainScene.m_BtnSpin.getComponent(m.default).interactable=!0,p.DataManager.getInstance().free?(t.mainScene.onSpin(),t.mainScene.setMainBG(1,2)):t.mainScene.setMainBG(0,2),p.DataManager.getInstance().auto&&p.DataManager.getInstance().autoNum>0&&t.mainScene.onSpin(),t.mainScene.result.stopEleAct(),t.mainScene.result.addingCoin=1,t.mainScene.result.node.active=!0,t.mainScene.m_NumWin.node.active=!0,p.DataManager.getInstance().winMoney=Number(t.jackpotWin),t.mainScene.result.setScore(!0),p.DataManager.getInstance().status=l.Common.eStatus.Win,t.node.active=!1},this)))},i([c(cc.Node)],e.prototype,"bgTip",void 0),i([c(cc.Node)],e.prototype,"m_JackpotCoins",void 0),i([c(cc.Node)],e.prototype,"m_JackpotIdles",void 0),i([c(cc.Node)],e.prototype,"m_NodeResult",void 0),i([c(cc.Button)],e.prototype,"m_btnHide",void 0),i([c(cc.Node)],e.prototype,"tree",void 0),i([c(sp.Skeleton)],e.prototype,"spTree",void 0),i([c(sp.Skeleton)],e.prototype,"treeFly",void 0),i([c(sp.Skeleton)],e.prototype,"ng2bg",void 0),i([c(cc.SpriteFrame)],e.prototype,"spf_Boards",void 0),i([c(cc.SpriteFrame)],e.prototype,"spf_Sticks",void 0),i([c(cc.SpriteFrame)],e.prototype,"spf_JackTypes",void 0),i([c(cc.AudioClip)],e.prototype,"audioBgBegin",void 0),i([c(cc.AudioClip)],e.prototype,"audioBgBgm",void 0),i([c(cc.AudioClip)],e.prototype,"audioBgEnd",void 0),i([c(cc.AudioClip)],e.prototype,"audioFgBgm",void 0),i([c(cc.AudioClip)],e.prototype,"audioTreeLongShake",void 0),i([s],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Common/BtnTouchListener":"BtnTouchListener","../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager"}],LabelNumRoll:[function(t,e,n){"use strict";cc._RF.push(e,"41044/zZKVPF51pOQ/jYZ2z","LabelNumRoll");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nrCurValue=0,e.nrSecFrame=1,e.digitNum=0,e.deZero=!1,e.nrParserFunc=null,e.nrStartValue=e.nrCurValue,e.nrEndValue=0,e.nrStartTime=new Date,e.nrPlayDur=0,e.showCallback=null,e}return a(e,t),e.prototype.nrInit=function(t,e,n,o){this.nrCurValue=t,this.nrSecFrame=e,this.setParserFunc(n),this.digitNum=o||0},e.prototype.setDeZero=function(t){this.deZero=t},e.prototype.setParserFunc=function(t){this.nrParserFunc=t||toString},e.prototype.nrStartRoll=function(t,e,n){var o=this;if(t&&(this.nrCurValue=t),this.nrStartValue=this.nrCurValue,this.nrEndValue=e,this.nrStartTime=new Date,this.nrPlayDur=n,!this.node.getActionByTag(10101010)){var a=cc.repeatForever(cc.sequence(cc.delayTime(1/this.nrSecFrame),cc.callFunc(function(){if(o.nrCurValue!=o.nrEndValue&&null!=o.nrEndValue){var t=(new Date).getTime()-o.nrStartTime.getTime();o.nrCurValue=o.nrStartValue+(o.nrEndValue-o.nrStartValue)*t/o.nrPlayDur,o.nrCurValue>=100?0==o.digitNum?(o.nrCurValue=Math.floor(o.nrCurValue*Math.pow(10,o.digitNum))/Math.pow(10,o.digitNum),o.nrCurValue=Math.floor(o.nrCurValue)):(o.nrCurValue=Math.floor(o.nrCurValue*(10^o.digitNum)),o.nrCurValue=o.nrCurValue*Math.pow(10,o.digitNum)/Math.pow(10,o.digitNum),o.nrCurValue=o.nrCurValue/(10^o.digitNum)):0==o.digitNum?o.nrCurValue=Math.floor(o.nrCurValue*Math.pow(10,o.digitNum))/Math.pow(10,o.digitNum):(o.nrCurValue=Math.floor(o.nrCurValue*(10^o.digitNum)),o.nrCurValue=o.nrCurValue*Math.pow(10,o.digitNum)/Math.pow(10,o.digitNum),o.nrCurValue=o.nrCurValue/(10^o.digitNum)),t>=o.nrPlayDur&&o.nrStopRoll(!0),o._showCurValue()}})));a.setTag(10101010),this.node.runAction(a),this._showCurValue()}},e.prototype.nrStopRoll=function(t){void 0===t&&(t=void 0),this.node.getActionByTag(10101010)&&(this.node.stopActionByTag(10101010),t&&(this.nrCurValue=this.nrEndValue),this._showCurValue())},e.prototype.nrGetCurValue=function(){return this.nrCurValue},e.prototype.nrGetEndValue=function(){return this.nrEndValue},e.prototype.nrSetCurValue=function(t){this.nrCurValue=t,this._showCurValue()},e.prototype._showCurValue=function(){this.deZero&&0==this.nrCurValue?this.string="":this.nrCurValue&&(this.string=this.nrParserFunc(this.nrCurValue)),this.showCallback&&this.showCallback()},e.prototype.setShowCallback=function(t){this.showCallback=t},i([s],e)}(cc.Label));n.default=c,cc._RF.pop()},{}],LanguageData:[function(t,e){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=t("polyglot.min"),o=null;function a(t){return window.i18n.languages[t]}function i(t){t&&(o?o.replace(t):o=new n({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=a(t)||{};window.i18n.curLang=t,i(e),this.inst=o}},t:function(t,e){if(o)return o.t(t,e)},inst:o,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var o=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,o)}for(var a=0;a<e.length;++a){var i=e[a];i.node.active&&i.updateLabel()}for(var r=[],s=0;s<t.length;++s){var c=t[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,c)}for(var u=0;u<r.length;++u){var l=r[u];l.node.active&&l.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],Language:[function(t,e,n){"use strict";cc._RF.push(e,"68a5bFn/kJMjosr1oE9aZY5","Language");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,r=(a.property,t("../../resources/i18n/i18n")),s=function(){function t(){}var e;return e=t,t.getInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},t.prototype.initLang=function(t){r.i18n.init(t)},t.prototype.getString=function(t){return r.i18n.t(t)},e=o([i],t)}();n.default=s,cc._RF.pop()},{"../../resources/i18n/i18n":void 0}],LoadingController:[function(t,e,n){"use strict";cc._RF.push(e,"4ba39k8hdNGEbBjQGmwWTKB","LoadingController");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/GlobalData"),s=t("../Network/HttpClient"),c=t("../Language/Language"),u=t("../Common/NodeDialog"),l=cc._decorator,p=l.ccclass,m=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ProgressBar=null,e.m_dialog=null,e.m_loadingSnd=null,e.audio_played=!1,e.m_currentLoadingTime=0,e.m_maxLoadingTime=5,e.m_lastLoadingProgress=0,e}return a(e,t),e.prototype.start=function(){var t=this;this.m_ProgressBar.progress=0,this.audio_played=!1;var e=window.location.search,n=new URLSearchParams(e);null!=n.get("lang")&&""!=n.get("lang")&&c.default.getInstance().initLang(n.get("lang")),s.default.getInstance().setDialog(this.m_dialog),cc.director.preloadScene("GameScene",function(e,n){t.m_lastLoadingProgress<e/(n>300?n:300)&&(t.m_ProgressBar.progress=e/(n>300?n:300),t.m_lastLoadingProgress=t.m_ProgressBar.progress,t.m_ProgressBar.progress>.8&&!t.audio_played&&(t.audio_played=!0,cc.audioEngine.playMusic(t.m_loadingSnd,!1)))},function(){t.m_currentLoadingTime=t.m_maxLoadingTime,t.m_ProgressBar.progress=1,1==r.default.G_IsTest?cc.director.loadScene("GameScene"):s.default.getInstance().ServerConnect({SlotEvent:"getSettings"})}),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)},e.prototype.onContinue=function(){1==r.default.G_IsTest?cc.director.loadScene("GameScene"):s.default.getInstance().ServerConnect({SlotEvent:"getSettings"})},e.prototype.update=function(){},i([m(cc.ProgressBar)],e.prototype,"m_ProgressBar",void 0),i([m(u.default)],e.prototype,"m_dialog",void 0),i([m(cc.AudioClip)],e.prototype,"m_loadingSnd",void 0),i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Common/GlobalData":"GlobalData","../Common/NodeDialog":"NodeDialog","../Language/Language":"Language","../Network/HttpClient":"HttpClient"}],LocalizedLabel:[function(t,e){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),cc.log("dataID: "+this.dataID+" value: "+n.t(this.dataID)),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MoreFree:[function(t,e,n){"use strict";cc._RF.push(e,"b0077q73EFAvaE7mQnBcUdT","MoreFree");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_continue=null,e}return a(e,t),e.prototype.show=function(t,e){var n=this,o=this;this.node.active=!0,this.callback=e,cc.tween(this.node).delay(.5).call(function(){o.btn_continue.node.active=!0}).delay(2).call(function(){n.onContinue()}).start()},e.prototype.hide=function(){this.node.active=!1},e.prototype.onContinue=function(){this.hide(),this.callback()},i([c(cc.Button)],e.prototype,"btn_continue",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],MultiLabel:[function(t,e,n){"use strict";cc._RF.push(e,"bb066zneiZOvKHL5/pYW06F","MultiLabel");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Language"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e}return a(e,t),e.prototype.onLoad=function(){var t=this.getComponent(cc.Label);t&&(t.string=r.default.getInstance().getString(this.key))},e.prototype.start=function(){},i([u],e.prototype,"key",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./Language":"Language"}],NetTrans:[function(t,e,n){"use strict";cc._RF.push(e,"30aabTBGpVIL4lipUc3aXxS","NetTrans");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.NetTrans=void 0;var a=t("../Common/BtnTouchListener"),i=t("../Common/Common"),r=t("../Network/HttpClient"),s=t("./DataManager"),c=cc._decorator,u=c.ccclass,l=(c.property,function(){function t(){}var e;return e=t,t.onCommand=function(t){"getSettings"==t.responseType?e.onGameSetting(t.serverResponse):"restart"==t.responseType?e.onRestart(t.serverResponse):"bet"!=t.responseType&&"freespin"!=t.responseType||e.onResultInfo(t.serverResponse)},t.onGameSetting=function(t){var e=t.BetAmounts,n=t.CurrentBet,o=t.Balance,a=t.FreeGames,r=t.CurrentFreeGame;s.DataManager.getInstance().totalFreeSpins=a;var c=a-r;s.DataManager.getInstance().nextFree=c;for(var u=0;u<i.Common.NUMBER_OF_COLUMN;u++){s.DataManager.getInstance().result[u]=[],s.DataManager.getInstance().resultReal[u]=[];for(var l=0;l<i.Common.NUMBER_OF_ROW;l++)s.DataManager.getInstance().result[u][l]=Number(t.reelSymbols["reel"+(u+1)][2-l]),s.DataManager.getInstance().resultReal[u][l]=s.DataManager.getInstance().result[u][l]}var p=e.split("|");i.Common.baseBet=p.map(function(t){return Number(t)});var m=i.Common.getBetIndex(n);s.DataManager.getInstance().coinIndex=1,s.DataManager.getInstance().betIndex=m+1,s.DataManager.getInstance().money=o,s.DataManager.getInstance().totalBet=i.Common.baseBet[s.DataManager.getInstance().betIndex-1]*i.Common.baseCoin[0],cc.director.loadScene("GameScene")},t.onRestart=function(t){var n=t.FreeGames,o=t.CurrentFreeGame;s.DataManager.getInstance().totalFreeSpins=n;var a=n-o;s.DataManager.getInstance().nextFree=a,null!=e.mainScene&&1==s.DataManager.getInstance().isOpen&&e.mainScene.onOverGame()},t.onResultInfo=function(t){var n=t.Jackpots;s.DataManager.getInstance().SCANum=t.scaCount,s.DataManager.getInstance().winMoney=n.jackpotWin&&n.jackpotWin>0?t.totalWin-n.jackpotWin:t.totalWin;var o=t.totalFreeGames,r=t.currentFreeGames;s.DataManager.getInstance().nextFree=o-r,s.DataManager.getInstance().totalFreeSpins=o,s.DataManager.getInstance().moreFreeSpin=t.MoreFreeSpin,s.DataManager.getInstance().jackpots=n,s.DataManager.getInstance().nextFree<0&&(s.DataManager.getInstance().nextFree=0),(s.DataManager.getInstance().totalFreeSpins>0&&s.DataManager.getInstance().nextFree==s.DataManager.getInstance().totalFreeSpins||s.DataManager.getInstance().moreFreeSpin>0||s.DataManager.getInstance().free&&0==s.DataManager.getInstance().nextFree&&0==s.DataManager.getInstance().moreFreeSpin)&&(this.mainScene.m_BtnSpin.getComponent(a.default).interactable=!1);for(var c=0;c<i.Common.NUMBER_OF_COLUMN;c++){s.DataManager.getInstance().result[c]=[],s.DataManager.getInstance().resultReal[c]=[];for(var u=0;u<i.Common.NUMBER_OF_ROW;u++)s.DataManager.getInstance().result[c][u]=s.DataManager.getInstance().resultReal[c][u]=Number(t.realReelsSymbols["reel"+(c+1)][2-u])}s.DataManager.getInstance().winLineNum=[],s.DataManager.getInstance().winLine=[];var l=t.winLines.split("&");for(c=0;c<l.length;c++)if(""!=l[c]){var p=l[c].split("=")[1].split("~");s.DataManager.getInstance().winLine.push({symbol:p[0],win:p[1]}),s.DataManager.getInstance().winLineNum.push(p.slice(2))}null!=e.mainScene&&e.mainScene.onResult()},t.sendOverGame=function(){r.default.getInstance().ServerConnect({SlotEvent:"restart"})},t.sendStartInfo=function(t){s.DataManager.getInstance().nextFree>0?r.default.getInstance().ServerConnect({SlotEvent:"freespin",betLine:t}):r.default.getInstance().ServerConnect({SlotEvent:"bet",betLine:t})},t.sendSelectedDragon=function(t){r.default.getInstance().ServerConnect({SlotEvent:"gambleCard",choice:t})},t.setMainScene=function(t){e.mainScene=t},t.first=!0,t.waitFree=!1,t.mainScene=null,e=o([u],t)}());n.NetTrans=l,cc._RF.pop()},{"../Common/BtnTouchListener":"BtnTouchListener","../Common/Common":"Common","../Network/HttpClient":"HttpClient","./DataManager":"DataManager"}],NodeDialog:[function(t,e,n){"use strict";cc._RF.push(e,"6e744yAEidDVrpl3ajXq/B1","NodeDialog");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.message=null,e}return a(e,t),e.prototype.start=function(){},e.prototype.show=function(t){this.message.string=t,this.node.active=!0},e.prototype.hide=function(){this.node.active=!1,this.message.string=""},i([c(cc.Label)],e.prototype,"message",void 0),i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],ReelColumn:[function(t,e,n){"use strict";cc._RF.push(e,"74642UsHNRAdpxOiQuCQ4zX","ReelColumn");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("../Common/Sound"),c=t("./DataManager"),u=t("./Symbol"),l=t("./FuFlyAnimator"),p=cc._decorator,m=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.num=0,e.FuFlyPrefab=null,e.FuFlyParent=null,e.eleTextures=[],e.status=0,e.stopIndex=0,e.bottom=1,e.top=r.Common.REEL_CONTENT_HEIGHT,e.easeAct=[],e.startAct=[],e.curSpeed=1,e.speed=r.Common.speed,e.freeEleSound=!1,e.stopcolindex=0,e.showGray=!1,e.changePic=!1,e.isSet=!1,e.column=[],e.count=0,e.win=[],e.nodes=[],e.isfirstturn=!0,e.bstopNow=!1,e.reelSymbols=[],e}var n;return a(e,t),n=e,e.prototype.onLoad=function(){this.status=n.eStatus.Idle,this.stopIndex=0,this.bottom=1,this.reelSymbols=[],this.easeAct=[],this.startAct=[],this.eleMixBg=[],this.sprAcer=[],this.nodes=[],this.curSpeed=1,this.speed=r.Common.REEL_SPEED,this.freeEleSound=!1,this.showGray=!1,this.changePic=!1,this.isSet=!1,this.load(),this.init()},e.prototype.start=function(){},e.prototype.load=function(){for(var t=0;t<r.Common.REEL_SYMBOLS_COUNT;t++){var e=cc.instantiate(this.item);e.getComponent(u.default).init(t),this.eleTextures[r.Common.eleIndex[t]]=e}},e.prototype.init=function(){this.column=r.Common.REEL_DATA[this.num],this.count=this.column.length,this.win=[],this.bottom=r.Common.findRandom(1,this.count-3);for(var t=3;t>=0;t--){this.win[t]=this.getIndex(t),this.nodes[t]=new cc.Node;var e=cc.instantiate(this.eleTextures[this.win[t]]);e.getComponent(u.default).resetItem(this.win[t]),this.nodes[t].addChild(e,0,"component"),this.nodes[t].position=new cc.Vec3(r.Common.ELEMENT_WIDTH/2,r.Common.ELEMENT_HEIGHT*t+r.Common.ELEMENT_HEIGHT/2),this.node.addChild(this.nodes[t]);var n=cc.tween().by(.05,{position:{value:cc.v3(0,-30),easing:"sineOut"}}),o=cc.tween().by(.05,{position:{value:cc.v3(0,30),easing:"sineIn"}});this.easeAct[t]=cc.tween().sequence(n,o),this.startAct[t]=cc.tween().by(.3,{position:{value:cc.v3(0,100),easing:"sineOut"}})}},e.prototype.run=function(){if(this.status==n.eStatus.Idle){this.stopIndex=0,this.nodes[3].active=!0;var t=this.getIndex(3);this.nodes[3].position=new cc.Vec3(r.Common.ELEMENT_WIDTH/2,-r.Common.ELEMENT_HEIGHT/2),this.nodes[3].getChildByName("component").getComponent(u.default).resetItem(t);for(var e=0;e<3;e++)this.nodes[e].active=!0;this.status=n.eStatus.run}this.speed=r.Common.REEL_SPEED},e.prototype.setChangePic=function(t){this.isSet||(this.isSet=!0,this.changePic=t,this.stopIndex=0,this.status=n.eStatus.stopping,this.node.stopAllActions())},e.prototype.getMinY=function(){return this.nodes[0].position.y},e.prototype.stop=function(t,e,o,a){(this.status==n.eStatus.run||this.status==n.eStatus.stopping&&a)&&(this.status=n.eStatus.stopping,this.freeEleSound=t,this.showGray=e,this.changePic=a,this.setResult(o))},e.prototype.doStop=function(){for(var t=0;t<4;t++)cc.tween(this.nodes[t]).then(this.easeAct[t]).start();s.Sound.getInstance().playEffect(r.Common.s_sound.StopReel,!1,!0),this.status=n.eStatus.ease},e.prototype.speedUp=function(){this.speed=r.Common.REEL_SPEED_Up},e.prototype.setResult=function(t){this.win=t;for(var e=0;e<3;e++)if(t[e]==r.Common.wildSymbol){var n=cc.instantiate(this.FuFlyPrefab);n.getComponent(l.default).startingPos=new cc.Vec2(this.nodes[e].getPosition().x+this.num*r.Common.XDIFF,this.nodes[e].getPosition().y),this.FuFlyParent.addChild(n)}},e.prototype.setPic=function(t){this.win=t;for(var e=0;e<3;e++)this.nodes[e].getChildByName("component").getComponent(u.default).resetItem(t[e])},e.prototype.reset=function(){this.curSpeed=1,this.status=n.eStatus.Idle,this.showGray=!1,this.changePic=!1,this.isSet=!1},e.prototype.getStatus=function(){return this.status},e.prototype.getNodes=function(){return this.nodes},e.prototype.getIndex=function(t){var e=t+this.bottom;return e>=this.count?e-=this.count:e=this.count-e,this.column[e]},e.prototype.setFreeColumn=function(t){if(2==t)switch(c.DataManager.getInstance().freeType){case 0:this.column=r.Common.FREE_REEL_DATA1[this.num];break;case 1:this.column=r.Common.FREE_REEL_DATA2[this.num];break;case 2:this.column=r.Common.FREE_REEL_DATA3[this.num];break;case 3:this.column=r.Common.FREE_REEL_DATA4[this.num];break;case 4:this.column=r.Common.FREE_REEL_DATA5[this.num]}else this.column=r.Common.REEL_DATA[this.num];this.count=this.column.length},e.prototype.tick=function(){var t=!1;if(this.status!=n.eStatus.run&&this.status!=n.eStatus.stopping){if(this.status==n.eStatus.ease){for(e=0;e<3;e++)this.nodes[e].getChildByName("component").getComponent(u.default).resetItem(this.win[e]);return this.status=n.eStatus.stop,!0}return!1}this.curSpeed=this.curSpeed+50,this.curSpeed>this.speed&&(this.curSpeed=this.speed);for(var e=0;e<4;e++){var o=this.nodes[e].position.y;if((o-=this.curSpeed)<-r.Common.ELEMENT_HEIGHT/2){var a=o+4*r.Common.ELEMENT_HEIGHT;o=a-Math.floor(a)>=0?Math.floor(a):Math.floor(a+1),this.bottom=this.bottom+1,this.bottom>this.count-1&&(this.bottom=0);var i=this.getIndex(3);if(this.nodes[e].getChildByName("component").getComponent(u.default).resetItem(i),this.status==n.eStatus.stopping)if(this.changePic||this.showGray)for(var s=0;s<3;s++)this.nodes[s+1].getChildByName("component").getComponent(u.default).resetItem(this.win[this.stopIndex]),this.stopIndex=this.stopIndex+1,r.Common.REEL_CONTENT_HEIGHT,t=!0;else this.stopIndex<3?(this.nodes[e].getChildByName("component").getComponent(u.default).resetItem(this.win[this.stopIndex]),this.stopIndex=this.stopIndex+1):(r.Common.REEL_CONTENT_HEIGHT,t=!0)}this.nodes[e].position=new cc.Vec3(r.Common.ELEMENT_WIDTH/2,o)}if(this.nodes.sort(function(t,e){return t.position.y>e.position.y?1:t.position.y<e.position.y?-1:0}),t){for(e=0;e<4;e++)this.nodes[e].position=new cc.Vec3(r.Common.ELEMENT_WIDTH/2,r.Common.ELEMENT_HEIGHT*e+r.Common.ELEMENT_HEIGHT/2);this.doStop()}return!1},e.prototype.leave=function(){},e.eStatus={Idle:1,run:2,stopping:3,ease:4,stop:5},i([d(cc.Prefab)],e.prototype,"item",void 0),i([d(cc.Integer)],e.prototype,"num",void 0),i([d(cc.Prefab)],e.prototype,"FuFlyPrefab",void 0),i([d(cc.Node)],e.prototype,"FuFlyParent",void 0),n=i([m],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager","./FuFlyAnimator":"FuFlyAnimator","./Symbol":"Symbol"}],Result:[function(t,e,n){"use strict";cc._RF.push(e,"c2c747M3YdEgrkGWn9P4tKB","Result");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/BtnTouchListener"),s=t("../Common/Common"),c=t("../Common/Sound"),u=t("./DataManager"),l=t("./NetTrans"),p=t("./Symbol"),m=cc._decorator,d=m.ccclass,h=m.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextShow=0,e.EleNodes=[[]],e.child=[[]],e.item=null,e.node_empty=null,e.win=0,e.targetCoin=0,e.targetCoinFree=0,e.addingCoin=0,e.addingTime=s.Common.addCoinTime,e.addingCoinStop=!1,e.bIsShowFreeOver=!1,e.winCount=0,e.FinalCoin=0,e.isRight=[],e.nodeGray=[],e.isChildOver=!1,e.isLineDone=!1,e.isCoinDone=!1,e.isAddCoinDown=!1,e.A=null,e.nextLine=0,e.S=0,e.D=!1,e.m=0,e.mainScene=null,e.winMoney=0,e}return a(e,t),e.prototype.onLoad=function(){for(var t=0;t<s.Common.NUMBER_OF_COLUMN;t++){this.child[t]=[];for(var e=s.Common.NUMBER_OF_ROW-1;e>=0;e--){var n=cc.instantiate(this.item);n.getComponent(p.default).init((t*s.Common.NUMBER_OF_ROW+e)%9),this.child[t][e]=n,this.child[t][e].setAnchorPoint(.5,.5),this.child[t][e].setPosition(s.Common.XDIFF*t+s.Common.ELEMENT_WIDTH/2,s.Common.ELEMENT_HEIGHT*e+s.Common.ELEMENT_HEIGHT/2),this.child[t][e].active=!1,this.node.addChild(this.child[t][e])}}this.node.active=!1},e.prototype.start=function(){},e.prototype.onCheckAutoBtn=function(){(1==u.DataManager.getInstance().isAutoOnWin||u.DataManager.getInstance().isAutoFreeSpin&&u.DataManager.getInstance().nextFree>0)&&(u.DataManager.getInstance().auto=!1,u.DataManager.getInstance().autoNum=0,this.mainScene.m_NumMessage.node.active=!1,this.mainScene.m_BtnAutoStop.node.active=!1,u.DataManager.getInstance().nextFree)},e.prototype.show=function(){if(this.winMoney=u.DataManager.getInstance().winMoney,c.Sound.getInstance().stopEffect(s.Common.s_sound.ScatterReelAnim),this.node.active=!0,cc.tween(this.node).stop(),u.DataManager.getInstance().winMoney>0){for(var t=0;t<s.Common.NUMBER_OF_COLUMN;t++)for(var e=0;e<s.Common.NUMBER_OF_ROW;e++)this.EleNodes[t][e].active=!0,this.child[t][e].active=!1;this.onWin()}else this.onLose();u.DataManager.getInstance().free&&(this.bIsShowFreeOver=!1)},e.prototype.winFree=function(){for(var t=this,e=0;e<s.Common.NUMBER_OF_COLUMN;e++)for(var n=0;n<s.Common.NUMBER_OF_ROW;n++)u.DataManager.getInstance().resultReal[e][n]==s.Common.scatterSymbol?(this.child[e][n].active=!0,this.child[e][n].getComponent(p.default).stopAnimation(),this.child[e][n].getComponent(p.default).resetItem(s.Common.scatterSymbol),this.child[e][n].getComponent(p.default).runAnimation(!1),this.EleNodes[e][n].active=!1):(this.child[e][n].active=!1,this.EleNodes[e][n].active=!0);cc.tween(this.node).delay(2).call(function(){c.Sound.getInstance().stopBGMusic(),c.Sound.getInstance().playBGMusic(s.Common.s_sound.FreeBG,!0),t.mainScene.reset(l.NetTrans.first),u.DataManager.getInstance().moreFreeSpin>0?(t.showMoreFree(),u.DataManager.getInstance().moreFreeSpin=0):t.mainScene.m_FreeStart.show()}).start()},e.prototype.onPlayEnd=function(t){var e=t;if(u.DataManager.getInstance().free&&0==u.DataManager.getInstance().nextFree)e.showFreeEnd();else if(u.DataManager.getInstance().auto||u.DataManager.getInstance().nextFree>0){u.DataManager.getInstance().isCanReset=!0,u.DataManager.getInstance().overgame&&e.mainScene.reset(l.NetTrans.first),u.DataManager.getInstance().playEnd=!1;var n=.5;e.winCount>0&&u.DataManager.getInstance().SCANum<3&&(n=s.Common.nomalWinDelayTime,(n=e.mainScene.currentWinSoundDur)>s.Common.nomalWinDelayTime*e.winCount?n-=s.Common.nomalWinDelayTime*e.winCount:n=.5),cc.tween(e.node).delay(n).call(function(){u.DataManager.getInstance().playEnd=!0,u.DataManager.getInstance().nextFree>0?e.mainScene.node.dispatchEvent(new cc.Event.EventCustom(s.Common.CustomEvent.EventStopFreeResult,!0)):u.DataManager.getInstance().auto&&e.mainScene.node.dispatchEvent(new cc.Event.EventCustom(s.Common.CustomEvent.EventStopAutoResult,!0)),e.hide()}).start()}else u.DataManager.getInstance().isCanReset=!0,u.DataManager.getInstance().overgame&&e.mainScene.reset(l.NetTrans.first),e.mainScene.EnableBtn(!0);u.DataManager.getInstance().jackpots.jackpotWin&&u.DataManager.getInstance().jackpots.jackpotWin>0&&setTimeout(function(){e.mainScene.jackpotManager.setSelectionResult(u.DataManager.getInstance().jackpots.jackpotWin,u.DataManager.getInstance().jackpots.jackpotSelects),e.mainScene.jackpotManager.perform()},1500)},e.prototype.doLossShowEnd=function(){var t=this;cc.tween(this.node).delay(.3).call(function(){u.DataManager.getInstance().SCANum>=3?t.winFree():t.onPlayEnd(t)}).start()},e.prototype.onLose=function(){this.node.active=!0,this.isLineDone=!0,this.doLossShowEnd()},e.prototype.setNextShow=function(t){var e=this;this.nextShow=t,this.isLineDone=!0;for(var n=0;n<s.Common.NUMBER_OF_COLUMN;n++)for(var o=0;o<s.Common.NUMBER_OF_ROW;o++)this.child[n][o].active=!1,this.EleNodes[n][o].active=!0;u.DataManager.getInstance().SCANum>=3?(this.mainScene.hideBigWin(),this.winFree()):(this.showEleAct(),cc.tween(this.node).delay(s.Common.nomalWinDelayTime).call(function(){e.stopEleAct()}).call(function(){e.setNextShow(e.nextShow)}).start())},e.prototype.startNext=function(){var t=this,e=this.nextShow;if(e>=u.DataManager.getInstance().winLine.length)return this.nextShow=0,this.isLineDone=!0,cc.tween(this.node).stop(),this.setNextShow(-1),void(u.DataManager.getInstance().SCANum<3&&this.onPlayEnd(this));this.nextShow=e+1;var n=this.showWinLine(e);cc.tween(this.node).stop(),cc.tween(this.node).delay(Number(n)).call(function(){t.stopEleAct()}).delay(.1).call(function(){t.startNext()}).start()},e.prototype.onWin=function(){var t=this,e=this;this.node.active=!0,this.mainScene.m_NumWin.node.active=!0,this.mainScene.m_NumWin.string="",1==u.DataManager.getInstance().auto&&this.onCheckAutoBtn(),this.winCount=this.getWinLineCount(),this.nextShow=0,cc.tween(this.node).delay(.2).call(function(){t.startAddCoin(),t.mainScene.playAddCoinSound(),0==t.winCount?cc.tween(t.node).delay(e.mainScene.currentWinSoundDur).call(function(){u.DataManager.getInstance().SCANum<3&&t.onPlayEnd(t),t.setNextShow(-1)}).start():t.startNext()}).start()},e.prototype.startAddCoin=function(){u.DataManager.getInstance().SCANum<3&&(u.DataManager.getInstance().isCanReset=!0,u.DataManager.getInstance().overgame&&this.mainScene.reset(l.NetTrans.first)),u.DataManager.getInstance().free?this.addingCoin=2:this.addingCoin=1},e.prototype.setScore=function(t){this.win=u.DataManager.getInstance().winMoney,this.win>.3?null!=t&&t?this.addingTime=s.Common.addCoinTimeFree:this.mainScene.checkBigWin()>2?this.addingTime=s.Common.addCoinTimeFree:this.addingTime=s.Common.addCoinTime:this.addingTime=.015*this.win/.01,null!=t&&t?this.FinalCoin=u.DataManager.getInstance().money+u.DataManager.getInstance().winMoney:u.DataManager.getInstance().free?this.targetCoinFree=u.DataManager.getInstance().winTotalFreeMoney+u.DataManager.getInstance().winMoney:this.FinalCoin=u.DataManager.getInstance().money+u.DataManager.getInstance().winMoney},e.prototype.stopEleAct=function(){for(var t=0;t<s.Common.NUMBER_OF_COLUMN;t++)for(var e=0;e<s.Common.NUMBER_OF_ROW;e++)this.child[t][e].getComponent(p.default).stopAnimation(),this.child[t][e].active=!1,this.EleNodes[t][e].active=!0},e.prototype.showWinLine=function(t){for(var e=0;e<u.DataManager.getInstance().winLineNum[t].length;e++){var n=Math.floor(u.DataManager.getInstance().winLineNum[t][e]/5),o=u.DataManager.getInstance().winLineNum[t][e]%5,a=u.DataManager.getInstance().resultReal[n][o];0==u.DataManager.getInstance().free&&(this.EleNodes[n][o].active=!1,this.child[n][o].active=!0,this.child[n][o].getComponent(p.default).stopAnimation(),this.child[n][o].getComponent(p.default).resetItem(a),this.child[n][o].getComponent(p.default).runAnimation(!1))}return s.Common.nomalWinDelayTime},e.prototype.showEleAct=function(){for(var t=0;t<u.DataManager.getInstance().winLine.length;t++)for(var e=u.DataManager.getInstance().winLineNum[t],n=0;n<e.length;n++){var o=Math.floor(e[n]/5),a=e[n]%5,i=u.DataManager.getInstance().resultReal[o][a];this.child[o][a].active=!0,this.child[o][a].getComponent(p.default).stopAnimation(),this.child[o][a].getComponent(p.default).resetItem(i),this.child[o][a].getComponent(p.default).runAnimation(!1),this.EleNodes[o][a].active=!1}},e.prototype.showMoreFree=function(){var t=this;this.mainScene.hideBigWin(),this.mainScene.m_MoreFree.show(u.DataManager.getInstance().moreFreeSpin,function(){t.onPlayEnd(t),t.mainScene.m_BtnSpin.getComponent(r.default).interactable=!0}),cc.tween(t.mainScene.node).delay(.5).call(function(){t.mainScene.onOverGame()}).start()},e.prototype.showFreeEnd=function(){this.isVisible()||(this.node.active=!0);var t=this;cc.tween(this.node).delay(.5).call(function(){c.Sound.getInstance().stopBGMusic(),t.mainScene.m_FreeEnd.show(0,function(){u.DataManager.getInstance().isCanReset=!0,u.DataManager.getInstance().overgame&&t.mainScene.reset(l.NetTrans.first),u.DataManager.getInstance().playEnd=!1,u.DataManager.getInstance().free=!1,t.mainScene.setMainBG(0),c.Sound.getInstance().playBGMusic(s.Common.s_sound.MainBG,!0),u.DataManager.getInstance().playEnd=!0,t.hide(),u.DataManager.getInstance().auto&&t.mainScene.node.dispatchEvent(new cc.Event.EventCustom(s.Common.CustomEvent.EventStopAutoResult,!0)),t.mainScene.m_BtnSpin.getComponent(r.default).interactable=!0})}).delay(.8).call(function(){t.bIsShowFreeOver=!0,u.DataManager.getInstance().status=s.Common.eStatus.Win,u.DataManager.getInstance().winMoney=u.DataManager.getInstance().winTotalFreeMoney,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow-u.DataManager.getInstance().winTotalFreeMoney,u.DataManager.getInstance().winShow<0&&(u.DataManager.getInstance().winShow=0),u.DataManager.getInstance().winTotalFreeMoney=0,t.targetCoinFree=0,t.setScore(!0),t.mainScene.playAddCoinSound(),t.addingCoin=3,t.mainScene.m_NumWin.node.active=!0,cc.tween(t.mainScene.node).delay(.5).call(function(){t.mainScene.onOverGame()}).start()}).start()},e.prototype.tickFreeWin=function(){var t=s.Common.addCoinDiffMin;this.win>0&&(t=s.Common.elapse/this.addingTime*this.win),t<s.Common.addCoinDiffMin?t=s.Common.addCoinDiffMin:t>s.Common.addCoinDiffMax&&(t=s.Common.addCoinDiffMax),this.win%1==0?(t=Math.ceil(t),this.addingCoinStop&&(t=u.DataManager.getInstance().winMoney+1)):this.addingCoinStop&&(t=u.DataManager.getInstance().winMoney+.1),u.DataManager.getInstance().winMoney=u.DataManager.getInstance().winMoney-t,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+t,u.DataManager.getInstance().winTotalFreeMoney=u.DataManager.getInstance().winTotalFreeMoney+t,u.DataManager.getInstance().winMoney<0&&(this.isCoinDone=!0,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+u.DataManager.getInstance().winMoney,u.DataManager.getInstance().winTotalFreeMoney=this.targetCoinFree,this.targetCoinFree=0,this.addingCoin=0,this.addingCoinStop=!1,u.DataManager.getInstance().winMoney=0),this.mainScene.m_NumWin.string=s.Common.addComma2Digits(u.DataManager.getInstance().winShow)},e.prototype.tick=function(){if(1==this.addingCoin){var t=s.Common.addCoinDiffMin;this.win>0&&(t=s.Common.elapse/this.addingTime*this.win),t<s.Common.addCoinDiffMin?t=s.Common.addCoinDiffMin:t>s.Common.addCoinDiffMax&&(t=s.Common.addCoinDiffMax),this.win%1==0&&(t=Math.ceil(t)),this.addingCoinStop&&(t=u.DataManager.getInstance().winMoney+1),u.DataManager.getInstance().winMoney=u.DataManager.getInstance().winMoney-t,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+t,u.DataManager.getInstance().money=u.DataManager.getInstance().money+t,u.DataManager.getInstance().winMoney<0&&(this.isCoinDone=!0,u.DataManager.getInstance().winShow=this.win,u.DataManager.getInstance().money=this.FinalCoin,this.FinalCoin=0,this.addingCoin=0,this.addingCoinStop=!1,u.DataManager.getInstance().winMoney=0),this.mainScene.m_NumBalance.string=s.Common.addComma2Digits(u.DataManager.getInstance().money),this.mainScene.m_NumWin.string=s.Common.addComma2Digits(u.DataManager.getInstance().winShow)}else 2==this.addingCoin?this.tickFreeWin():3==this.addingCoin&&(t=s.Common.addCoinDiffMin,this.win>0&&(t=s.Common.elapse/this.addingTime*this.win),t<s.Common.addCoinDiffMin?t=s.Common.addCoinDiffMin:t>s.Common.addCoinDiffMax&&(t=s.Common.addCoinDiffMax),this.addingCoinStop&&(t=u.DataManager.getInstance().winMoney+1),u.DataManager.getInstance().winMoney=u.DataManager.getInstance().winMoney-t,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+t,u.DataManager.getInstance().money=u.DataManager.getInstance().money+t,u.DataManager.getInstance().winMoney<0&&(this.isCoinDone=!0,u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+u.DataManager.getInstance().winMoney,u.DataManager.getInstance().money=this.FinalCoin,this.FinalCoin=0,this.addingCoin=0,this.addingCoinStop=!1,u.DataManager.getInstance().winMoney=0),this.mainScene.m_NumBalance.string=s.Common.addComma2Digits(u.DataManager.getInstance().money),this.mainScene.m_FreeEnd.lbl_freeSpinWin.string=s.Common.addComma2Digits(u.DataManager.getInstance().winShow))},e.prototype.stopResult=function(){if(this.nextShow=-1,this.nextLine=0,this.isLineDone=!1,this.isCoinDone=!1,this.isChildOver=!1,this.winCount=0,this.D=!1,this.S=0,u.DataManager.getInstance().nextFree>0?(u.DataManager.getInstance().winShow=u.DataManager.getInstance().winShow+u.DataManager.getInstance().winMoney,u.DataManager.getInstance().winMoney=0,this.targetCoinFree>0&&(u.DataManager.getInstance().winTotalFreeMoney=this.targetCoinFree,this.targetCoinFree=0),u.DataManager.getInstance().winShow>0?(this.mainScene.m_NumWin.node.active=!0,this.mainScene.m_NumWin.string=s.Common.addComma2Digits(u.DataManager.getInstance().winShow)):this.mainScene.m_NumWin.node.active=!0):(u.DataManager.getInstance().winMoney>0&&(u.DataManager.getInstance().money=this.FinalCoin,this.FinalCoin=0,u.DataManager.getInstance().winMoney=0),u.DataManager.getInstance().winShow=0,this.mainScene.m_NumWin.node.active=!1,this.mainScene.m_NumWin.string=""),this.addingCoin=0,this.isVisible()){this.mainScene.m_NumBalance.string=s.Common.addComma2Digits(u.DataManager.getInstance().money);for(var t=0;t<s.Common.NUMBER_OF_COLUMN;t++)for(var e=0;e<s.Common.NUMBER_OF_ROW;e++)this.EleNodes[t][e].active=!0,this.child[t][e].active=!1;this.node.stopAllActions()}},e.prototype.hide=function(){this.stopResult(),this.node.active=!1,this.isAddCoinDown=!1,this.m=0,this.nextLine=0,this.mainScene.hideBigWin()},e.prototype.getWinLineCount=function(){return u.DataManager.getInstance().winLine.length},e.prototype.isVisible=function(){return this.node.active},e.prototype.setMainScene=function(t){this.mainScene=t,this.EleNodes=this.mainScene.rollMgr.getEleNodes()},e.prototype.leave=function(){this.targetCoin>0&&(u.DataManager.getInstance().money=this.targetCoin)},i([h(cc.Prefab)],e.prototype,"item",void 0),i([h(cc.Node)],e.prototype,"node_empty",void 0),i([d],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../Common/BtnTouchListener":"BtnTouchListener","../Common/Common":"Common","../Common/Sound":"Sound","./DataManager":"DataManager","./NetTrans":"NetTrans","./Symbol":"Symbol"}],RollMgr:[function(t,e,n){"use strict";cc._RF.push(e,"df93cHWyVxMO6A3ZyLJo52D","RollMgr");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=t("../Common/Sound"),c=t("./ReelColumn"),u=cc._decorator,l=u.ccclass,p=u.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopIndex=[[]],e.stopMoneyIndex=[[]],e.run=!1,e.canStop=!1,e.time=[],e.singleStart=[],e.bCanBonusEffect=[],e.stoppedCount=0,e.speedUpCount=0,e.allStop=!1,e.speedUpSound=!1,e.showGray=!1,e.accelTime=0,e.columns=[],e}return a(e,t),e.prototype.onLoad=function(){this.run=!1,this.canStop=!1,this.time=[],this.singleStart=[],this.bCanBonusEffect=[],this.stoppedCount=0,this.speedUpCount=0,this.allStop=!1,this.speedUpSound=!1,this.showGray=!1,this.accelTime=0;for(var t=0;t<r.Common.NUMBER_OF_COLUMN;t++)this.time[t]=0},e.prototype.start=function(){},e.prototype.runAll=function(){var t=this;this.speedUpSound=!1,1!=this.run&&this.onFirstRun();for(var e=0,n=function(n){if(o.columns[n].getStatus()==c.default.eStatus.Idle){var a=n,i=.1*e;cc.tween(o.columns[n]).delay(i).call(function(){t.speedUpCount>=2?t.columns[a].run(!0):t.columns[a].run(!1),t.time[a]=r.Common.firstStopTime+a*r.Common.stopTime,cc.tween(t.columns[a]).stop()}).start(),e+=1}},o=this,a=0;a<r.Common.NUMBER_OF_COLUMN;a++)n(a);this.onAllRun()},e.prototype.onFirstRun=function(){this.reset(),this.mainScene.node.dispatchEvent(new cc.Event.EventCustom(r.Common.CustomEvent.EventStartRoll,!0))},e.prototype.onAllRun=function(){this.mainScene.node.dispatchEvent(new cc.Event.EventCustom(r.Common.CustomEvent.EventStartAll,!0))},e.prototype.onSetStop=function(t){var e=!1;for(var n in this.stopIndex[t])(this.stopIndex[t][n]==r.Common.scatterSymbol||this.stopIndex[t][n]==r.Common.wildSymbol&&t>0)&&(this.speedUpCount++,0!=t&&this.speedUpCount!=t+1||(0==t&&s.Sound.getInstance().stopEffect(r.Common.s_sound.RealScatter),s.Sound.getInstance().playEffect(r.Common.s_sound.RealScatter,!1,!1)));this.speedUpCount>=2&&this.stoppedCount<4&&(e=!0,this.columns[t].stop(this.bCanBonusEffect[t],this.showGray,this.stopIndex[t],this.allStop),0==this.allStop&&this.reorderTimes()),0==e&&this.columns[t].stop(this.bCanBonusEffect[t],this.showGray,this.stopIndex[t],this.allStop);for(var o=0;o<r.Common.NUMBER_OF_COLUMN;o++)if(this.columns[o].getStatus()==c.default.eStatus.run)return},e.prototype.onAllStop=function(){this.showGray=!1,1==this.speedUpSound&&(this.speedUpSound=!1),this.allStop=!1,this.canStop=!1,this.stoppedCount=0,this.speedUpCount=0;for(var t=0;t<r.Common.NUMBER_OF_COLUMN;t++)this.columns[t].reset(),this.singleStart[t]=!1,this.bCanBonusEffect[t]=!1,this.time[t]=r.Common.firstStopTime+t*r.Common.stopTime;this.mainScene.node.dispatchEvent(new cc.Event.EventCustom(r.Common.CustomEvent.EventStopRoll,!0))},e.prototype.stopAll=function(){this.allStop=!0;for(var t=0;t<r.Common.NUMBER_OF_COLUMN;t++)this.time[t]=0},e.prototype.isStopAll=function(){return this.allStop},e.prototype.getEleNodes=function(){for(var t=[],e=0;e<r.Common.NUMBER_OF_COLUMN;e++)t[e]=this.columns[e].getNodes();return t},e.prototype.setCanStop=function(t){if(this.stopIndex=t,this.canStop=!0,1==this.allStop)for(var e=0;e<r.Common.NUMBER_OF_COLUMN;e++)this.columns[e].stop(this.bCanBonusEffect[e],this.showGray,this.stopIndex[e],this.allStop);else this.reorderTimes()},e.prototype.setPic=function(t){for(var e=0;e<r.Common.NUMBER_OF_COLUMN;e++)this.columns[e].setPic(t[e])},e.prototype.reorderTimes=function(){for(var t=0,e=0,n=0;n<r.Common.NUMBER_OF_COLUMN;n++)if(1!=this.singleStart[n]){t=n,(e=this.time[n])<0&&(e=0);break}if(0!=t){var o=0;for(n=t-1;n<r.Common.NUMBER_OF_COLUMN;n++)1!=this.singleStart[n]&&(this.time[n]=e+o*r.Common.stopTime,o+=1)}},e.prototype.reset=function(){this.run=!0},e.prototype.setFreeColumn=function(t){for(var e=0;e<r.Common.NUMBER_OF_COLUMN;e++)this.columns[e].setFreeColumn(t)},e.prototype.tick=function(){if(this.accelTime=this.accelTime+r.Common.elapse,0!=this.run)for(var t=0;t<r.Common.NUMBER_OF_COLUMN;t++){this.time[t]=this.time[t]-r.Common.elapse;var e=this.columns[t].tick();if(1==this.canStop&&(this.time[t]<0&&(this.columns[t].getStatus()==c.default.eStatus.run?this.onSetStop(t):this.columns[t].getStatus()==c.default.eStatus.stopping&&this.allStop&&r.Common.changePic&&this.columns[t].setChangePic(!0)),1==e&&(this.stoppedCount=this.stoppedCount+1,this.stoppedCount==r.Common.NUMBER_OF_COLUMN))){this.run=!1,this.onAllStop();break}}},e.prototype.setMainScene=function(t){this.mainScene=t},e.prototype.leave=function(){for(var t=0;t<r.Common.NUMBER_OF_COLUMN;t++)this.columns[t].leave()},i([p(c.default)],e.prototype,"columns",void 0),i([l],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../Common/Common":"Common","../Common/Sound":"Sound","./ReelColumn":"ReelColumn"}],Sound:[function(t,e,n){"use strict";cc._RF.push(e,"cd28ec8jX5G55oBXtZd/zfk","Sound");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Sound=void 0;var a=cc._decorator,i=a.ccclass,r=(a.property,function(){function t(){this.soundFiles=[],this.soundId=[]}var e;return e=t,t.prototype.loadSound=function(t){for(var e=0;e<t.length;e++)this.soundFiles[e]=t[e]},t.getInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},t.prototype.playEffect=function(t,e,n){null!=n&&1!=n||null!=this.soundId[t]&&cc.audioEngine.stopEffect(this.soundId[t]),null==e&&(e=!1),this.soundId[t]=cc.audioEngine.playEffect(this.soundFiles[t],e)},t.prototype.stopEffect=function(t){null!=this.soundId[t]&&cc.audioEngine.stopEffect(this.soundId[t])},t.prototype.playBGMusic=function(t,e){cc.audioEngine.playMusic(this.soundFiles[t],e)},t.prototype.stopBGMusic=function(){cc.audioEngine.stopMusic()},t._instance=null,e=o([i],t)}());n.Sound=r,cc._RF.pop()},{}],SpriteFrameSet:[function(t,e){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=n,cc._RF.pop()},{}],Symbol:[function(t,e,n){"use strict";cc._RF.push(e,"cc51cIDVxxPRp6NPzXGbVch","Symbol");var o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Common/Common"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ele_bg=null,e.icons=[],e.blur_icons=[],e.wild_anim=null,e.scatter_anim=null,e.symbolIndex=0,e}return a(e,t),e.prototype.init=function(t){this.symbolIndex=t,this.ele_bg.spriteFrame=this.icons[this.symbolIndex],this.wild_anim.node.active=!1,this.scatter_anim.node.active=!1},e.prototype.resetItem=function(t){this.symbolIndex=t,this.ele_bg.spriteFrame=this.icons[this.symbolIndex],this.wild_anim.node.active=!1,this.scatter_anim.node.active=!1},e.prototype.runAnimation=function(t,e){void 0===e&&(e=!0),this.symbolIndex===r.Common.wildSymbol?(this.wild_anim.node.active=!0,this.wild_anim.setAnimation(0,"Wild_L",!1)):this.symbolIndex===r.Common.scatterSymbol?(this.scatter_anim.node.active=!0,this.scatter_anim.setAnimation(0,"Scatter_L",!1)):this.ele_bg.node.runAction(cc.repeatForever(cc.sequence(cc.hide(),cc.delayTime(.3),cc.show(),cc.delayTime(.3))))},e.prototype.stopAnimation=function(t){void 0===t&&(t=!1),this.wild_anim.node.active=!1,this.scatter_anim.node.active=!1,this.ele_bg.node.stopAllActions(),this.ele_bg.node.active=!0,this.ele_bg.node.opacity=255},i([u(cc.Sprite)],e.prototype,"ele_bg",void 0),i([u(cc.SpriteFrame)],e.prototype,"icons",void 0),i([u(cc.SpriteFrame)],e.prototype,"blur_icons",void 0),i([u(sp.Skeleton)],e.prototype,"wild_anim",void 0),i([u(sp.Skeleton)],e.prototype,"scatter_anim",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Common/Common":"Common"}],TestGetResult:[function(t,e,n){"use strict";cc._RF.push(e,"c1e05s5v8xLL7E/eWaVmLn8","TestGetResult");var o=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,r=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(i<3?a(r):i>3?a(e,n,r):a(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TestGetResult=void 0;var a=t("../Common/Common"),i=t("./DataManager"),r=cc._decorator,s=r.ccclass,c=(r.property,function(){function t(){}var e;return e=t,t.generate=function(){i.DataManager.getInstance().SCANum=0,i.DataManager.getInstance().winMoney=0,i.DataManager.getInstance().moreFreeSpin=0,i.DataManager.getInstance().nextFree=i.DataManager.getInstance().nextFree-1,i.DataManager.getInstance().nextFree<0&&(i.DataManager.getInstance().nextFree=0),i.DataManager.getInstance().winLineNum=[],i.DataManager.getInstance().winLine=[];var t=a.Common.REEL_DATA;if(1==i.DataManager.getInstance().free)switch(i.DataManager.getInstance().freeType){case 0:t=a.Common.FREE_REEL_DATA1;break;case 1:t=a.Common.FREE_REEL_DATA2;break;case 2:t=a.Common.FREE_REEL_DATA3;break;case 3:t=a.Common.FREE_REEL_DATA4;break;case 4:t=a.Common.FREE_REEL_DATA5}else i.DataManager.getInstance().moreFreeSpin=0,i.DataManager.getInstance().totalFreeSpins=0;for(var n=0;n<a.Common.NUMBER_OF_COLUMN;n++){i.DataManager.getInstance().result[n]=[],i.DataManager.getInstance().resultReal[n]=[];for(var o=t[n].length,r=Math.floor(Math.random()*o),s=0;s<a.Common.NUMBER_OF_ROW;s++)i.DataManager.getInstance().result[n][s]=i.DataManager.getInstance().resultReal[n][s]=t[n][(r+s)%o]}if(e.first){for(n=0;n<a.Common.NUMBER_OF_COLUMN;n++)for(s=0;s<a.Common.NUMBER_OF_ROW;s++)i.DataManager.getInstance().result[n][s]=i.DataManager.getInstance().resultReal[n][s]=e.firstData[0][n][s];e.first=!1}for(var c=0,u=0;u<i.DataManager.getInstance().symbolCount;u++){for(var l=u,p=0,m=1,d=[0,0,0,0,0,0],h=[],g=0;g<a.Common.NUMBER_OF_COLUMN;g++){for(var f=0;f<a.Common.NUMBER_OF_ROW;f++){var _=i.DataManager.getInstance().resultReal[g][f];_!=l&&_!=a.Common.wildSymbol||(d[g]++,h.push(5*g+f))}if(d[g]<=0)break;m=d[g]*m}d[0]>0&&d[1]>0&&d[2]>0&&d[3]>0&&d[4]>0?p=this.ratio[l][4]*a.Common.baseBet[i.DataManager.getInstance().betIndex-1]*m:d[0]>0&&d[1]>0&&d[2]>0&&d[3]>0?p=this.ratio[l][3]*a.Common.baseBet[i.DataManager.getInstance().betIndex-1]*m:d[0]>0&&d[1]>0&&d[2]>0&&(p=this.ratio[l][2]*a.Common.baseBet[i.DataManager.getInstance().betIndex-1]*m),p>0&&(i.DataManager.getInstance().winLine.push({symbol:l,win:p}),i.DataManager.getInstance().winLineNum.push(h),i.DataManager.getInstance().winMoney=i.DataManager.getInstance().winMoney+p,l==a.Common.scatterSymbol&&(c=h.length))}if(i.DataManager.getInstance().SCANum=c,i.DataManager.getInstance().free?i.DataManager.getInstance().SCANum>=3&&(i.DataManager.getInstance().moreFreeSpin=6,i.DataManager.getInstance().totalFreeSpins+=i.DataManager.getInstance().moreFreeSpin):i.DataManager.getInstance().SCANum>=3&&(i.DataManager.getInstance().nextFree=6,i.DataManager.getInstance().totalFreeSpins=6),i.DataManager.getInstance().jackpots={},this.isJackpot){var y=Math.floor(4*Math.random()),C=this.jackTypes[y]*a.Common.baseBet[i.DataManager.getInstance().betIndex-1];i.DataManager.getInstance().winMoney=i.DataManager.getInstance().winMoney+C;var v=[0,0,0,0],S=[];do{var M=Math.floor(4*Math.random());M!=y&&2==v[M]||(v[M]++,S.push(M))}while(v[y]<3);i.DataManager.getInstance().jackpots={jackpotWin:C,jackpotType:y,jackpotSelects:S.join("|")}}},t.first=!1,t.isJackpot=!1,t.firstRespin=!1,t.waitFree=!1,t.ratio=[[0,0,0,0,0],[0,0,100,200,1e3],[0,0,50,100,500],[0,0,40,80,400],[0,0,25,50,250],[0,0,10,20,100],[0,0,5,10,50],[0,0,5,10,50],[0,0,5,10,50],[0,0,5,10,50],[0,0,5,10,50],[0,0,5,10,50],[0,0,5,10,50]],t.jackTypes=[2e3,3750,75e3,2e5],t.firstData=[[[10,4,12],[0,3,5],[11,8,12],[6,6,1],[3,8,4]],[[8,5,9],[3,6,10],[3,4,6],[7,10,1],[3,10,4]],[[8,5,2],[10,6,7],[8,4,9],[7,10,1],[3,10,4]],[[10,5,9],[3,6,10],[9,4,6],[7,10,9],[3,10,4]]],e=o([s],t)}());n.TestGetResult=c,cc._RF.pop()},{"../Common/Common":"Common","./DataManager":"DataManager"}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min"),function(t,o){"function"==typeof define&&define.amd?define([],function(){return o(t)}):"object"==typeof n?e.exports=o(t):t.Polyglot=o(t)}(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||c}function n(t){var e,n,o,a={};for(e in t)if(t.hasOwnProperty(e))for(o in n=t[e])a[n[o]]=e;return a}function o(t){return t.replace(/^\s+|\s+$/g,"")}function a(t,e,n){var a;return null!=n&&t?o((a=t.split(l))[r(e,n)]||a[0]):t}function i(t){var e=n(m);return e[t]||e.en}function r(t,e){return p[i(t)](e)}function s(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function c(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function u(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],e&&(o=e+"."+o),"object"==typeof n?this.extend(n,o):this.phrases[o]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,o;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),o=t),"string"==typeof n&&(e=u(e),o=s(o=a(n,this.currentLocale,e.smart_count),e)),o},e.prototype.has=function(t){return t in this.phrases};var l="||||",p={chinese:function(){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},m={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}]},{},["BtnTouchListener","Common","GlobalData","NodeDialog","Sound","AutoSpinSetting","Bigwin","DataManager","FreeEnd","FreeStart","FuFlyAnimator","GameScene","Help","JackpotLayer","JackpotManager","LabelNumRoll","MoreFree","NetTrans","ReelColumn","Result","RollMgr","Symbol","TestGetResult","Language","MultiLabel","LoadingController","HttpClient","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);